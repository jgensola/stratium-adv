!function(d,b,f,c){function g(a){return a.replace(/\\(.)/gm,"$1")}d.imp_editor_storage_get_saves_list=function(e){d.post(ajaxurl,{action:"image_map_pro_get_saves_list"}).done(function(a){var h=0;try{a=(a=g(a)).replace(/\\'/g,"'"),h=JSON.parse(a),e(h)}catch(h){a=(a=g(a)).replace(/\\'/g,"'"),console.log(h),console.log("Failed to load saves list."),console.log(a),e(!1)}})},d.imp_editor_storage_get_save=function(e,i){var h={action:"image_map_pro_get_save",saveID:e};d.ajax({type:"POST",url:ajaxurl,data:h}).done(function(k){var j=0;try{j=JSON.parse(g(k));i(j)}catch(j){console.log(j),console.log("Failed to verify loaded image map."),console.log("Original JSON: "),console.log(g(k)),i(!1)}})},d.imp_editor_storage_store_save=function(e,i){var h={action:"image_map_pro_store_save",json:JSON.stringify(e),saveID:e.id,name:e.general.name,shortcode:e.general.shortcode};d.ajax({type:"POST",url:ajaxurl,data:h}).done(function(k){try{JSON.parse(g(k));i(!0)}catch(j){console.log(j),console.log("Failed to verify saved image map."),console.log("Original JSON: "),console.log(g(k)),i(!1)}})},d.imp_editor_storage_delete_save=function(e,i){var h={action:"image_map_pro_delete_save",saveID:e};d.post(ajaxurl,h).done(function(a){i()})},d.imp_editor_storage_get_last_save=function(e){d.post(ajaxurl,{action:"image_map_pro_get_last_save"}).done(function(a){a.length>0?e(a):e(!1)})},d.imp_editor_storage_set_last_save=function(e,i){var h={action:"image_map_pro_set_last_save",saveID:e};d.post(ajaxurl,h).done(function(){i()})}}(jQuery,window,document);