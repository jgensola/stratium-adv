/*!
 * Isotope v2.2.0
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 * http://isotope.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(c){var d=Array.prototype.slice;function b(){}function a(f){if(!f){return}function h(i){if(i.prototype.option){return}i.prototype.option=function(j){if(!f.isPlainObject(j)){return}this.options=f.extend(true,this.options,j)}}var e=typeof console==="undefined"?b:function(i){};function g(i,j){f.fn[i]=function(n){if(typeof n==="string"){var m=d.call(arguments,1);for(var o=0,l=this.length;o<l;o++){var q=this[o];var k=f.data(q,i);if(!k){continue}if(!f.isFunction(k[n])||n.charAt(0)==="_"){continue}var p=k[n].apply(k,m);if(p!==undefined){return p}}return this}else{return this.each(function(){var r=f.data(this,i);if(r){r.option(n);r._init()}else{r=new j(this,n);f.data(this,i,r)}})}}}f.bridget=function(i,j){h(j);g(i,j)};return f.bridget}if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(c.jQuery)}}})(window);
/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
(function(e){var b=document.documentElement;var f=function(){};function a(h){var g=e.event;g.target=g.target||g.srcElement||h;return g}if(b.addEventListener){f=function(i,h,g){i.addEventListener(h,g,false)}}else{if(b.attachEvent){f=function(i,h,g){i[h+g]=g.handleEvent?function(){var j=a(i);g.handleEvent.call(g,j)}:function(){var j=a(i);g.call(i,j)};i.attachEvent("on"+h,i[h+g])}}}var d=function(){};if(b.removeEventListener){d=function(i,h,g){i.removeEventListener(h,g,false)}}else{if(b.detachEvent){d=function(j,h,g){j.detachEvent("on"+h,j[h+g]);try{delete j[h+g]}catch(i){j[h+g]=undefined}}}}var c={bind:f,unbind:d};if(typeof define==="function"&&define.amd){define("eventie/eventie",c)}else{if(typeof exports==="object"){module.exports=c}else{e.eventie=c}}})(window);
/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */
;(function(){function c(){}var l=c.prototype;var v=this;var y=v.EventEmitter;function h(A,B){var z=A.length;while(z--){if(A[z].listener===B){return z}}return -1}function j(z){return function A(){return this[z].apply(this,arguments)}}l.getListeners=function t(z){var C=this._getEvents();var A;var B;if(z instanceof RegExp){A={};for(B in C){if(C.hasOwnProperty(B)&&z.test(B)){A[B]=C[B]}}}else{A=C[z]||(C[z]=[])}return A};l.flattenListeners=function r(B){var z=[];var A;for(A=0;A<B.length;A+=1){z.push(B[A].listener)}return z};l.getListenersAsObject=function e(z){var B=this.getListeners(z);var A;if(B instanceof Array){A={};A[z]=B}return A||B};l.addListener=function f(z,C){var B=this.getListenersAsObject(z);var D=typeof C==="object";var A;for(A in B){if(B.hasOwnProperty(A)&&h(B[A],C)===-1){B[A].push(D?C:{listener:C,once:false})}}return this};l.on=j("addListener");l.addOnceListener=function a(z,A){return this.addListener(z,{listener:A,once:true})};l.once=j("addOnceListener");l.defineEvent=function p(z){this.getListeners(z);return this};l.defineEvents=function q(z){for(var A=0;A<z.length;A+=1){this.defineEvent(z[A])}return this};l.removeListener=function b(z,D){var C=this.getListenersAsObject(z);var A;var B;for(B in C){if(C.hasOwnProperty(B)){A=h(C[B],D);if(A!==-1){C[B].splice(A,1)}}}return this};l.off=j("removeListener");l.addListeners=function m(z,A){return this.manipulateListeners(false,z,A)};l.removeListeners=function s(z,A){return this.manipulateListeners(true,z,A)};l.manipulateListeners=function g(A,B,D){var C;var E;var F=A?this.removeListener:this.addListener;var z=A?this.removeListeners:this.addListeners;if(typeof B==="object"&&!(B instanceof RegExp)){for(C in B){if(B.hasOwnProperty(C)&&(E=B[C])){if(typeof E==="function"){F.call(this,C,E)}else{z.call(this,C,E)}}}}else{C=D.length;while(C--){F.call(this,B,D[C])}}return this};l.removeEvent=function o(z){var C=typeof z;var B=this._getEvents();var A;if(C==="string"){delete B[z]}else{if(z instanceof RegExp){for(A in B){if(B.hasOwnProperty(A)&&z.test(A)){delete B[A]}}}else{delete this._events}}return this};l.removeAllListeners=j("removeEvent");l.emitEvent=function u(z,B){var E=this.getListenersAsObject(z);var F;var D;var C;var A;for(C in E){if(E.hasOwnProperty(C)){D=E[C].length;while(D--){F=E[C][D];if(F.once===true){this.removeListener(z,F.listener)}A=F.listener.apply(this,B||[]);if(A===this._getOnceReturnValue()){this.removeListener(z,F.listener)}}}}return this};l.trigger=j("emitEvent");l.emit=function k(z){var A=Array.prototype.slice.call(arguments,1);return this.emitEvent(z,A)};l.setOnceReturnValue=function i(z){this._onceReturnValue=z;return this};l._getOnceReturnValue=function n(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};l._getEvents=function d(){return this._events||(this._events={})};c.noConflict=function x(){v.EventEmitter=y;return c};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return c})}else{if(typeof module==="object"&&module.exports){module.exports=c}else{v.EventEmitter=c}}}.call(this));
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */
(function(c){var d="Webkit Moz ms Ms O".split(" ");var b=document.documentElement.style;function a(h){if(!h){return}if(typeof b[h]==="string"){return h}h=h.charAt(0).toUpperCase()+h.slice(1);var f;for(var g=0,e=d.length;g<e;g++){f=d[g]+h;if(typeof b[f]==="string"){return f}}}if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return a})}else{if(typeof exports==="object"){module.exports=a}else{c.getStyleProperty=a}}})(window);
/*!
 * getSize v1.2.2
 * measure size of elements
 * MIT license
 */
(function(e,g){function b(j){var i=parseFloat(j);var k=j.indexOf("%")===-1&&!isNaN(i);return k&&i}function d(){}var c=typeof console==="undefined"?d:function(i){console.error(i)};var a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function f(){var l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var k=0,j=a.length;k<j;k++){var m=a[k];l[m]=0}return l}function h(o){var m=false;var k,l,n;function j(){if(m){return}m=true;var s=e.getComputedStyle;k=(function(){var v=s?function(x){return s(x,null)}:function(x){return x.currentStyle};return function u(y){var x=v(y);if(!x){c("Style returned "+x+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1")}return x}})();l=o("boxSizing");if(l){var t=document.createElement("div");t.style.width="200px";t.style.padding="1px 2px 3px 4px";t.style.borderStyle="solid";t.style.borderWidth="1px 2px 3px 4px";t.style[l]="border-box";var q=document.body||document.documentElement;q.appendChild(t);var r=k(t);n=b(r.width)===200;q.removeChild(t)}}function p(G){j();if(typeof G==="string"){G=document.querySelector(G)}if(!G||typeof G!=="object"||!G.nodeType){return}var E=k(G);if(E.display==="none"){return f()}var x={};x.width=G.offsetWidth;x.height=G.offsetHeight;var F=x.isBorderBox=!!(l&&E[l]&&E[l]==="border-box");for(var B=0,C=a.length;B<C;B++){var z=a[B];var A=E[z];A=i(G,A);var q=parseFloat(A);x[z]=!isNaN(q)?q:0}var D=x.paddingLeft+x.paddingRight;var v=x.paddingTop+x.paddingBottom;var I=x.marginLeft+x.marginRight;var t=x.marginTop+x.marginBottom;var H=x.borderLeftWidth+x.borderRightWidth;var s=x.borderTopWidth+x.borderBottomWidth;var r=F&&n;var u=b(E.width);if(u!==false){x.width=u+(r?0:D+H)}var y=b(E.height);if(y!==false){x.height=y+(r?0:v+s)}x.innerWidth=x.width-(D+H);x.innerHeight=x.height-(v+s);x.outerWidth=x.width+I;x.outerHeight=x.height+t;return x}function i(t,u){if(e.getComputedStyle||u.indexOf("%")===-1){return u}var s=t.style;var v=s.left;var r=t.runtimeStyle;var q=r&&r.left;if(q){r.left=t.currentStyle.left}s.left=u;u=s.pixelLeft;s.left=v;if(q){r.left=q}return u}return p}if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],h)}else{if(typeof exports==="object"){module.exports=h(require("desandro-get-style-property"))}else{e.getSize=h(e.getStyleProperty)}}})(window);
/*!
 * docReady v1.0.4
 * Cross browser DOMContentLoaded event emitter
 * MIT license
 */
(function(e){var b=e.document;var a=[];function d(h){if(typeof h!=="function"){return}if(d.isReady){h()}else{a.push(h)}}d.isReady=false;function g(i){var h=i.type==="readystatechange"&&b.readyState!=="complete";if(d.isReady||h){return}c()}function c(){d.isReady=true;for(var j=0,h=a.length;j<h;j++){var k=a[j];k()}}function f(h){if(b.readyState==="complete"){c()}else{h.bind(b,"DOMContentLoaded",g);h.bind(b,"readystatechange",g);h.bind(e,"load",g)}return d}if(typeof define==="function"&&define.amd){define("doc-ready/doc-ready",["eventie/eventie"],f)}else{if(typeof exports==="object"){module.exports=f(require("eventie"))}else{e.docReady=f(e.eventie)}}})(window);(function(h){var f=(function(){if(h.matches){return"matches"}if(h.matchesSelector){return"matchesSelector"}var m=["webkit","moz","ms","o"];for(var k=0,j=m.length;k<j;k++){var l=m[k];var n=l+"MatchesSelector";if(h[n]){return n}}})();function d(k,j){return k[f](j)}function g(k){if(k.parentNode){return}var j=document.createDocumentFragment();j.appendChild(k)}function e(n,k){g(n);var l=n.parentNode.querySelectorAll(k);for(var m=0,j=l.length;m<j;m++){if(l[m]===n){return true}}return false}function c(k,j){g(k);return d(k,j)}var i;if(f){var a=document.createElement("div");var b=d(a,"div");i=b?d:c}else{i=e}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return i})}else{if(typeof exports==="object"){module.exports=i}else{window.matchesSelector=i}}})(Element.prototype);(function(b,a){if(typeof define=="function"&&define.amd){define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(d,c){return a(b,d,c)})}else{if(typeof exports=="object"){module.exports=a(b,require("doc-ready"),require("desandro-matches-selector"))}else{b.fizzyUIUtils=a(b,b.docReady,b.matchesSelector)}}}(window,function factory(f,e,d){var b={};b.extend=function(j,i){for(var k in i){j[k]=i[k]}return j};b.modulo=function(i,j){return((i%j)+j)%j};var a=Object.prototype.toString;b.isArray=function(i){return a.call(i)=="[object Array]"};b.makeArray=function(m){var l=[];if(b.isArray(m)){l=m}else{if(m&&typeof m.length=="number"){for(var k=0,j=m.length;k<j;k++){l.push(m[k])}}else{l.push(m)}}return l};b.indexOf=Array.prototype.indexOf?function(i,j){return i.indexOf(j)}:function(l,m){for(var k=0,j=l.length;k<j;k++){if(l[k]===m){return k}}return -1};b.removeFrom=function(j,k){var i=b.indexOf(j,k);if(i!=-1){j.splice(i,1)}};b.isElement=(typeof HTMLElement=="function"||typeof HTMLElement=="object")?function h(i){return i instanceof HTMLElement}:function g(i){return i&&typeof i=="object"&&i.nodeType==1&&typeof i.nodeName=="string"};b.setText=(function(){var j;function i(k,l){j=j||(document.documentElement.textContent!==undefined?"textContent":"innerText");k[j]=l}return i})();b.getParent=function(j,i){while(j!=document.body){j=j.parentNode;if(d(j,i)){return j}}};b.getQueryElement=function(i){if(typeof i=="string"){return document.querySelector(i)}return i};b.handleEvent=function(i){var j="on"+i.type;if(this[j]){this[j](i)}};b.filterFindElements=function(k,m){k=b.makeArray(k);var p=[];for(var o=0,q=k.length;o<q;o++){var l=k[o];if(!b.isElement(l)){continue}if(m){if(d(l,m)){p.push(l)}var r=l.querySelectorAll(m);for(var n=0,s=r.length;n<s;n++){p.push(r[n])}}else{p.push(l)}}return p};b.debounceMethod=function(l,k,i){var m=l.prototype[k];var j=k+"Timeout";l.prototype[k]=function(){var o=this[j];if(o){clearTimeout(o)}var n=arguments;var p=this;this[j]=setTimeout(function(){m.apply(p,n);delete p[j]},i||100)}};b.toDashed=function(i){return i.replace(/(.)([A-Z])/g,function(k,j,l){return j+"-"+l}).toLowerCase()};var c=f.console;b.htmlInit=function(i,j){e(function(){var q=b.toDashed(j);var k=document.querySelectorAll(".js-"+q);var r="data-"+q+"-options";for(var m=0,n=k.length;m<n;m++){var l=k[m];var o=l.getAttribute(r);var u;try{u=o&&JSON.parse(o)}catch(p){if(c){c.error("Error parsing "+r+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+p)}continue}var s=new i(l,u);var t=f.jQuery;if(t){t.data(l,j,s)}}})};return b}));(function(b,a){if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(e,f,d,c){return a(b,e,f,d,c)})}else{if(typeof exports==="object"){module.exports=a(b,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils"))}else{b.Outlayer={};b.Outlayer.Item=a(b,b.EventEmitter,b.getSize,b.getStyleProperty,b.fizzyUIUtils)}}}(window,function factory(j,i,d,k,s){var q=j.getComputedStyle;var g=q?function(u){return q(u,null)}:function(u){return u.currentStyle};function h(u){for(var v in u){return false}v=null;return true}var r=k("transition");var n=k("transform");var p=r&&n;var l=!!k("perspective");var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[r];var e=["transform","transition","transitionDuration","transitionProperty"];var o=(function(){var v={};for(var x=0,u=e.length;x<u;x++){var z=e[x];var y=k(z);if(y&&y!==z){v[z]=y}}return v})();function c(u,v){if(!u){return}this.element=u;this.layout=v;this.position={x:0,y:0};this._create()}s.extend(c.prototype,i.prototype);c.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};c.prototype.handleEvent=function(u){var v="on"+u.type;if(this[v]){this[v](u)}};c.prototype.getSize=function(){this.size=d(this.element)};c.prototype.css=function(x){var u=this.element.style;for(var y in x){var v=o[y]||y;u[v]=x[y]}};c.prototype.getPosition=function(){var u=g(this.element);var F=this.layout.options;var D=F.isOriginLeft;var E=F.isOriginTop;var z=u[D?"left":"right"];var A=u[E?"top":"bottom"];var v=this.layout.size;var C=z.indexOf("%")!=-1?(parseFloat(z)/100)*v.width:parseInt(z,10);var B=A.indexOf("%")!=-1?(parseFloat(A)/100)*v.height:parseInt(A,10);C=isNaN(C)?0:C;B=isNaN(B)?0:B;C-=D?v.paddingLeft:v.paddingRight;B-=E?v.paddingTop:v.paddingBottom;this.position.x=C;this.position.y=B};c.prototype.layoutPosition=function(){var z=this.layout.size;var H=this.layout.options;var v={};var F=H.isOriginLeft?"paddingLeft":"paddingRight";var A=H.isOriginLeft?"left":"right";var B=H.isOriginLeft?"right":"left";var E=this.position.x+z[F];v[A]=this.getXValue(E);v[B]="";var C=H.isOriginTop?"paddingTop":"paddingBottom";var G=H.isOriginTop?"top":"bottom";var u=H.isOriginTop?"bottom":"top";var D=this.position.y+z[C];v[G]=this.getYValue(D);v[u]="";this.css(v);this.emitEvent("layout",[this])};c.prototype.getXValue=function(v){var u=this.layout.options;return u.percentPosition&&!u.isHorizontal?((v/this.layout.size.width)*100)+"%":v+"px"};c.prototype.getYValue=function(v){var u=this.layout.options;return u.percentPosition&&u.isHorizontal?((v/this.layout.size.height)*100)+"%":v+"px"};c.prototype._transitionTo=function(G,F){this.getPosition();var v=this.position.x;var u=this.position.y;var E=parseInt(G,10);var D=parseInt(F,10);var C=E===this.position.x&&D===this.position.y;this.setPosition(G,F);if(C&&!this.isTransitioning){this.layoutPosition();return}var B=G-v;var A=F-u;var z={};z.transform=this.getTranslate(B,A);this.transition({to:z,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};c.prototype.getTranslate=function(v,z){var u=this.layout.options;v=u.isOriginLeft?v:-v;z=u.isOriginTop?z:-z;if(l){return"translate3d("+v+"px, "+z+"px, 0)"}return"translate("+v+"px, "+z+"px)"};c.prototype.goTo=function(u,v){this.setPosition(u,v);this.layoutPosition()};c.prototype.moveTo=p?c.prototype._transitionTo:c.prototype.goTo;c.prototype.setPosition=function(u,v){this.position.x=parseInt(u,10);this.position.y=parseInt(v,10)};c.prototype._nonTransition=function(u){this.css(u.to);if(u.isCleaning){this._removeStyles(u.to)}for(var v in u.onTransitionEnd){u.onTransitionEnd[v].call(this)}};c.prototype._transition=function(u){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(u);return}var x=this._transn;for(var y in u.onTransitionEnd){x.onEnd[y]=u.onTransitionEnd[y]}for(y in u.to){x.ingProperties[y]=true;if(u.isCleaning){x.clean[y]=true}}if(u.from){this.css(u.from);var v=this.element.offsetHeight;v=null}this.enableTransition(u.to);this.css(u.to);this.isTransitioning=true};function f(u){return u.replace(/([A-Z])/g,function(v){return"-"+v.toLowerCase()})}var m="opacity,"+f(o.transform||"transform");c.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(a,this,false)};c.prototype.transition=c.prototype[r?"_transition":"_nonTransition"];c.prototype.onwebkitTransitionEnd=function(u){this.ontransitionend(u)};c.prototype.onotransitionend=function(u){this.ontransitionend(u)};var t={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};c.prototype.ontransitionend=function(y){if(y.target!==this.element){return}var x=this._transn;var u=t[y.propertyName]||y.propertyName;delete x.ingProperties[u];if(h(x.ingProperties)){this.disableTransition()}if(u in x.clean){this.element.style[y.propertyName]="";delete x.clean[u]}if(u in x.onEnd){var v=x.onEnd[u];v.call(this);delete x.onEnd[u]}this.emitEvent("transitionEnd",[this])};c.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(a,this,false);this.isTransitioning=false};c.prototype._removeStyles=function(v){var u={};for(var x in v){u[x]=""}this.css(u)};var b={transitionProperty:"",transitionDuration:""};c.prototype.removeTransitionStyles=function(){this.css(b)};c.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};c.prototype.remove=function(){if(!r||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var u=this;this.once("transitionEnd",function(){u.removeElem()});this.hide()};c.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var v=this.layout.options;var x={};var u=this.getHideRevealTransitionEndProperty("visibleStyle");x[u]=this.onRevealTransitionEnd;this.transition({from:v.hiddenStyle,to:v.visibleStyle,isCleaning:true,onTransitionEnd:x})};c.prototype.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent("reveal")}};c.prototype.getHideRevealTransitionEndProperty=function(v){var u=this.layout.options[v];if(u.opacity){return"opacity"}for(var x in u){return x}};c.prototype.hide=function(){this.isHidden=true;this.css({display:""});var v=this.layout.options;var x={};var u=this.getHideRevealTransitionEndProperty("hiddenStyle");x[u]=this.onHideTransitionEnd;this.transition({from:v.visibleStyle,to:v.hiddenStyle,isCleaning:true,onTransitionEnd:x})};c.prototype.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};c.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return c}));
/*!
 * Outlayer v1.4.1
 * the brains and guts of a layout library
 * MIT license
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(d,f,g,c,e){return a(b,d,f,g,c,e)})}else{if(typeof exports=="object"){module.exports=a(b,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item"))}else{b.Outlayer=a(b,b.eventie,b.EventEmitter,b.getSize,b.fizzyUIUtils,b.Outlayer.Item)}}}(window,function factory(f,h,l,j,g,b){var c=f.console;var k=f.jQuery;var i=function(){};var e=0;var a={};function d(o,n){var m=g.getQueryElement(o);if(!m){if(c){c.error("Bad element for "+this.constructor.namespace+": "+(m||o))}return}this.element=m;if(k){this.$element=k(this.element)}this.options=g.extend({},this.constructor.defaults);this.option(n);var p=++e;this.element.outlayerGUID=p;a[p]=this;this._create();if(this.options.isInitLayout){this.layout()}}d.namespace="outlayer";d.Item=b;d.defaults={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,isResizingContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};g.extend(d.prototype,l.prototype);d.prototype.option=function(m){g.extend(this.options,m)};d.prototype._create=function(){this.reloadItems();g.extend(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};d.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};d.prototype._itemize=function(o){var r=this._filterFindItemElements(o);var p=this.constructor.Item;var n=[];for(var q=0,m=r.length;q<m;q++){var t=r[q];var s=new p(t,this);n.push(s)}return n};d.prototype._filterFindItemElements=function(m){return g.filterFindElements(m,this.options.itemSelector)};d.prototype.getItemElements=function(){var n=[];for(var o=0,m=this.items.length;o<m;o++){n.push(this.items[o].element)}return n};d.prototype.layout=function(){this._resetLayout();var m=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,m);this._isLayoutInited=true};d.prototype._init=d.prototype.layout;d.prototype._resetLayout=function(){this.getSize()};d.prototype.getSize=function(){this.size=j(this.element)};d.prototype._getMeasurement=function(o,m){var n=this.options[o];var p;if(!n){this[o]=0}else{if(typeof n==="string"){p=this.element.querySelector(n)}else{if(g.isElement(n)){p=n}}this[o]=p?j(p)[m]:n}};d.prototype.layoutItems=function(m,n){m=this._getItemsForLayout(m);this._layoutItems(m,n);this._postLayout()};d.prototype._getItemsForLayout=function(n){var q=[];for(var o=0,m=n.length;o<m;o++){var p=n[o];if(!p.isIgnored){q.push(p)}}return q};d.prototype._layoutItems=function(p,s){this._emitCompleteOnItems("layout",p);if(!p||!p.length){return}var o=[];for(var q=0,n=p.length;q<n;q++){var r=p[q];var m=this._getItemLayoutPosition(r);m.item=r;m.isInstant=s||r.isLayoutInstant;o.push(m)}this._processLayoutQueue(o)};d.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};d.prototype._processLayoutQueue=function(n){for(var o=0,m=n.length;o<m;o++){var p=n[o];this._positionItem(p.item,p.x,p.y,p.isInstant)}};d.prototype._positionItem=function(n,m,p,o){if(o){n.goTo(m,p)}else{n.moveTo(m,p)}};d.prototype._postLayout=function(){this.resizeContainer()};d.prototype.resizeContainer=function(){if(!this.options.isResizingContainer){return}var m=this._getContainerSize();if(m){this._setContainerMeasure(m.width,true);this._setContainerMeasure(m.height,false)}};d.prototype._getContainerSize=i;d.prototype._setContainerMeasure=function(m,n){if(m===undefined){return}var o=this.size;if(o.isBorderBox){m+=n?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth}m=Math.max(m,0);this.element.style[n?"width":"height"]=m+"px"};d.prototype._emitCompleteOnItems=function(q,u){var s=this;function m(){s.dispatchEvent(q+"Complete",null,[u])}var t=u.length;if(!u||!t){m();return}var n=0;function p(){n++;if(n===t){m()}}for(var o=0,r=u.length;o<r;o++){var v=u[o];v.once(q,p)}};d.prototype.dispatchEvent=function(p,q,n){var o=q?[q].concat(n):n;this.emitEvent(p,o);if(k){this.$element=this.$element||k(this.element);if(q){var m=k.Event(q);m.type=p;this.$element.trigger(m,n)}else{this.$element.trigger(p,n)}}};d.prototype.ignore=function(n){var m=this.getItem(n);if(m){m.isIgnored=true}};d.prototype.unignore=function(n){var m=this.getItem(n);if(m){delete m.isIgnored}};d.prototype._find=function(m){if(!m){return}if(typeof m==="string"){m=this.element.querySelectorAll(m)}m=g.makeArray(m);return m};d.prototype._getBoundingRect=function(){var m=this.element.getBoundingClientRect();var n=this.size;this._boundingRect={left:m.left+n.paddingLeft+n.borderLeftWidth,top:m.top+n.paddingTop+n.borderTopWidth,right:m.right-(n.paddingRight+n.borderRightWidth),bottom:m.bottom-(n.paddingBottom+n.borderBottomWidth)}};d.prototype._getElementOffset=function(p){var m=p.getBoundingClientRect();var o=this._boundingRect;var n=j(p);var q={left:m.left-o.left-n.marginLeft,top:m.top-o.top-n.marginTop,right:o.right-m.right-n.marginRight,bottom:o.bottom-m.bottom-n.marginBottom};return q};d.prototype.handleEvent=function(m){var n="on"+m.type;if(this[n]){this[n](m)}};d.prototype.bindResize=function(){if(this.isResizeBound){return}h.bind(f,"resize",this);this.isResizeBound=true};d.prototype.unbindResize=function(){if(this.isResizeBound){h.unbind(f,"resize",this)}this.isResizeBound=false};d.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var n=this;function m(){n.resize();delete n.resizeTimeout}this.resizeTimeout=setTimeout(m,100)};d.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};d.prototype.needsResizeLayout=function(){var n=j(this.element);var m=this.size&&n;return m&&n.innerWidth!==this.size.innerWidth};d.prototype.addItems=function(n){var m=this._itemize(n);if(m.length){this.items=this.items.concat(m)}return m};d.prototype.appended=function(n){var m=this.addItems(n);if(!m.length){return}this.layoutItems(m,true);this.reveal(m)};d.prototype.reveal=function(n){this._emitCompleteOnItems("reveal",n);var m=n&&n.length;for(var o=0;m&&o<m;o++){var p=n[o];p.reveal()}};d.prototype.hide=function(n){this._emitCompleteOnItems("hide",n);var m=n&&n.length;for(var o=0;m&&o<m;o++){var p=n[o];p.hide()}};d.prototype.revealItemElements=function(n){var m=this.getItems(n);this.reveal(m)};d.prototype.hideItemElements=function(n){var m=this.getItems(n);this.hide(m)};d.prototype.getItem=function(p){for(var n=0,m=this.items.length;n<m;n++){var o=this.items[n];if(o.element===p){return o}}};d.prototype.getItems=function(o){o=g.makeArray(o);var n=[];for(var p=0,m=o.length;p<m;p++){var r=o[p];var q=this.getItem(r);if(q){n.push(q)}}return n};d.prototype.remove=function(n){var p=this.getItems(n);this._emitCompleteOnItems("remove",p);if(!p||!p.length){return}for(var o=0,m=p.length;o<m;o++){var q=p[o];q.remove();g.removeFrom(this.items,q)}};d.prototype.destroy=function(){var o=this.element.style;o.height="";o.position="";o.width="";for(var n=0,m=this.items.length;n<m;n++){var p=this.items[n];p.destroy()}this.unbindResize();var q=this.element.outlayerGUID;delete a[q];delete this.element.outlayerGUID;if(k){k.removeData(this.element,this.constructor.namespace)}};d.data=function(m){m=g.getQueryElement(m);var n=m&&m.outlayerGUID;return n&&a[n]};d.create=function(p,n){function o(){d.apply(this,arguments)}if(Object.create){o.prototype=Object.create(d.prototype)}else{g.extend(o.prototype,d.prototype)}o.prototype.constructor=o;o.defaults=g.extend({},d.defaults);g.extend(o.defaults,n);o.prototype.settings={};o.namespace=p;o.data=d.data;o.Item=function m(){b.apply(this,arguments)};o.Item.prototype=new b();g.htmlInit(o,p);if(k&&k.bridget){k.bridget(p,o)}return o};d.Item=b;return d}));(function(b,a){if(typeof define=="function"&&define.amd){define("TG_Layout/js/item",["outlayer/outlayer"],a)}else{if(typeof exports=="object"){module.exports=a(require("outlayer"))}else{b.TG_Layout=b.TG_Layout||{};b.TG_Layout.Item=a(b.Outlayer)}}}(window,function factory(c){function b(){c.Item.apply(this,arguments)}b.prototype=new c.Item();b.prototype._create=function(){this.id=this.layout.itemGUID++;c.Item.prototype._create.call(this);this.sortData={}};b.prototype.updateSortData=function(){if(this.isIgnored){return}this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var e=this.layout.options.getSortData;var f=this.layout._sorters;for(var d in e){var g=f[d];this.sortData[d]=g(this.element,this)}};var a=b.prototype.destroy;b.prototype.destroy=function(){a.apply(this,arguments);this.css({display:""})};return b}));(function(b,a){if(typeof define=="function"&&define.amd){define("TG_Layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],a)}else{if(typeof exports=="object"){module.exports=a(require("get-size"),require("outlayer"))}else{b.TG_Layout=b.TG_Layout||{};b.TG_Layout.LayoutMode=a(b.getSize,b.Outlayer)}}}(window,function factory(c,b){function a(d){this.TG_Layout=d;if(d){this.options=d.options[this.namespace];this.element=d.element;this.items=d.filteredItems;this.size=d.size}}(function(){var f=["_resetLayout","_getItemLayoutPosition","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var g=0,d=f.length;g<d;g++){var e=f[g];a.prototype[e]=h(e)}function h(i){return function(){return b.prototype[i].apply(this.TG_Layout,arguments)}}})();a.prototype.needsVerticalResizeLayout=function(){var e=c(this.TG_Layout.element);var d=this.TG_Layout.size&&e;return d&&e.innerHeight!=this.TG_Layout.size.innerHeight};a.prototype._getMeasurement=function(){this.TG_Layout._getMeasurement.apply(this,arguments)};a.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")};a.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")};a.prototype.getSegmentSize=function(h,f){var g=h+f;var d="outer"+f;this._getMeasurement(g,d);if(this[g]){return}var e=this.getFirstItemSize();this[g]=e&&e[d]||this.TG_Layout.size["inner"+f]};a.prototype.getFirstItemSize=function(){var d=this.TG_Layout.filteredItems[0];return d&&d.element&&c(d.element)};a.prototype.layout=function(){this.TG_Layout.layout.apply(this.TG_Layout,arguments)};a.prototype.getSize=function(){this.TG_Layout.getSize();this.size=this.TG_Layout.size};a.modes={};a.create=function(e,d){function f(){a.apply(this,arguments)}f.prototype=new a();if(d){f.options=d}f.prototype.namespace=e;a.modes[e]=f;return f};return a}));
/*!
 * Masonry v3.3.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(b,a){if(typeof define==="function"&&define.amd){define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],a)}else{if(typeof exports==="object"){module.exports=a(require("outlayer"),require("get-size"),require("fizzy-ui-utils"))}else{b.Masonry=a(b.Outlayer,b.getSize,b.fizzyUIUtils)}}}(window,function factory(c,d,a){var b=c.create("masonry");b.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var e=this.cols;this.colYs=[];while(e--){this.colYs.push(0)}this.x=0;this.y=0;this.maxY=0};b.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var k=this.items[0];var g=k&&k.element;this.columnWidth=g&&d(g).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter;var h=this.containerWidth+this.gutter;var j=h/i;var e=i-h%i;var f=e&&e<1?"round":"floor";j=Math[f](j);this.cols=Math.max(j,1)};b.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element;var f=d(e);this.containerWidth=f&&f.innerWidth};b.prototype._getItemLayoutPosition=function(r){r.getSize();var q=r.size.outerWidth%this.columnWidth;var k=q&&q<1?"round":"ceil";var l=Math[k](r.size.outerWidth/this.columnWidth);l=Math.min(l,this.cols);var e=this._getColGroup(l);var f=Math.min.apply(Math,e);var n=a.indexOf(e,f);if(this.options.isFitRows){var m=r.size.outerWidth+this.gutter;var p=this.TG_Layout.size.innerWidth+this.gutter;if(this.x!==0&&m+this.x>p){this.x=0;this.y=this.maxY}}else{this.x=this.columnWidth*n,this.y=f}var j={x:this.x,y:this.y};if(this.options.isFitRows){this.maxY=Math.max(this.maxY,this.y+r.size.outerHeight+this.gutter);this.x+=m}var o=f+r.size.outerHeight+this.gutter;var g=this.cols+1-e.length;for(var h=0;h<g;h++){this.colYs[n+h]=o}return j};b.prototype._getColGroup=function(g){if(g<2){return this.colYs}var h=[];var j=this.cols+1-g;for(var e=0;e<j;e++){var f=this.colYs.slice(e,e+g);h[e]=Math.max.apply(Math,f)}return h};b.prototype._getContainerSize=function(){this.maxY=(!this.options.isFitRows)?Math.max.apply(Math,this.colYs):this.maxY;var e={height:this.maxY-this.gutter};if(this.options.isFitWidth){e.width=this._getContainerFitWidth()}return e};b.prototype._getContainerFitWidth=function(){var f=0;var e=this.cols;while(--e){if(this.colYs[e]!==0){break}f++}return(this.cols-f)*this.columnWidth-this.gutter};b.prototype.needsResizeLayout=function(){var e=this.containerWidth;this.getContainerWidth();return e!==this.containerWidth};return b}));
/*!
 * Masonry layout mode
 * sub-classes Masonry
 * http://masonry.desandro.com
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("TG_Layout/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],a)}else{if(typeof exports=="object"){module.exports=a(require("../layout-mode"),require("masonry-layout"))}else{a(b.TG_Layout.LayoutMode,b.Masonry)}}}(window,function factory(e,b){function h(j,i){for(var k in i){j[k]=i[k]}return j}var a=e.create("masonry");var g=a.prototype._getElementOffset;var f=a.prototype.layout;var d=a.prototype._getMeasurement;h(a.prototype,b.prototype);a.prototype._getElementOffset=g;a.prototype.layout=f;a.prototype._getMeasurement=d;var c=a.prototype.measureColumns;a.prototype.measureColumns=function(){this.items=this.TG_Layout.filteredItems;c.call(this)};return a}));
/*!
 * TG_Layout v2.2.0
 *
 * Licensed GPLv3 for open source use
 * or TG_Layout Commercial License for commercial use
 *
 * http://TG_Layout.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","TG_Layout/js/item","TG_Layout/js/layout-mode","TG_Layout/js/layout-modes/masonry"],function(g,h,d,c,e,f){return a(b,g,h,d,c,e,f)})}else{if(typeof exports=="object"){module.exports=a(b,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"))}else{b.TG_Layout=a(b,b.Outlayer,b.getSize,b.matchesSelector,b.fizzyUIUtils,b.TG_Layout.Item,b.TG_Layout.LayoutMode)}}}(window,function factory(g,f,l,n,h,c,e){var m=g.jQuery;var b=String.prototype.trim?function(o){return o.trim()}:function(o){return o.replace(/^\s+|\s+$/g,"")};var a=document.documentElement;var k=a.textContent?function(o){return o.textContent}:function(o){return o.innerText};var i=f.create("TG_Layout",{layoutMode:"masonry",isJQueryFiltering:true,sortAscending:true});i.Item=c;i.LayoutMode=e;i.prototype._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();f.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var o in e.modes){this._initLayoutMode(o)}};i.prototype.reloadItems=function(){this.itemGUID=0;f.prototype.reloadItems.call(this)};i.prototype._itemize=function(){var p=f.prototype._itemize.apply(this,arguments);for(var q=0,o=p.length;q<o;q++){var r=p[q];r.id=this.itemGUID++}this._updateItemsSortData(p);return p};i.prototype._initLayoutMode=function(o){var p=e.modes[o];var q=this.options[o]||{};this.options[o]=p.options?h.extend(p.options,q):q;this.modes[o]=new p(this)};i.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};i.prototype._layout=function(){var o=this._getIsInstant();this._resetLayout();this.layoutItems(this.filteredItems,o);this._isLayoutInited=true};i.prototype.arrange=function(q){this.option(q);this._getIsInstant();var o=this._filter(this.items);this.filteredItems=o.matches;var r=this;function p(){r.reveal(o.needReveal);r.hide(o.needHide)}this._bindArrangeComplete();if(this._isInstant){this._noTransition(p)}else{p()}this._sort();this._layout()};i.prototype._init=i.prototype.arrange;i.prototype._getIsInstant=function(){var o=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this._isInstant=o;return o};i.prototype._bindArrangeComplete=function(){var o,s,p;var r=this;function q(){if(o&&s&&p){r.dispatchEvent("arrangeComplete",null,[r.filteredItems])}}this.once("layoutComplete",function(){o=true;q()});this.once("hideComplete",function(){s=true;q()});this.once("revealComplete",function(){p=true;q()})};i.prototype._filter=function(x){var p=this.options.filter;p=p||"*";var r=[];var s=[];var o=[];var v=this._getFilterTest(p);for(var q=0,t=x.length;q<t;q++){var y=x[q];if(y.isIgnored){continue}var u=v(y);if(u){r.push(y)}if(u&&y.isHidden){s.push(y)}else{if(!u&&!y.isHidden){o.push(y)}}}return{matches:r,needReveal:s,needHide:o}};i.prototype._getFilterTest=function(o){if(m&&this.options.isJQueryFiltering){return function(p){return m(p.element).is(o)}}if(typeof o=="function"){return function(p){return o(p.element)}}return function(p){return n(p.element,o)}};i.prototype.updateSortData=function(p){var o;if(p){p=h.makeArray(p);o=this.getItems(p)}else{o=this.items}this._getSorters();this._updateItemsSortData(o)};i.prototype._getSorters=function(){var p=this.options.getSortData;for(var o in p){var q=p[o];this._sorters[o]=d(q)}};i.prototype._updateItemsSortData=function(p){var o=p&&p.length;for(var q=0;o&&q<o;q++){var r=p[q];r.updateSortData()}};var d=(function(){function p(x){if(typeof x!="string"){return x}var s=b(x).split(" ");var u=s[0];var t=u.match(/^\[(.+)\]$/);var q=t&&t[1];var r=o(q,u);var v=i.sortDataParsers[s[1]];x=v?function(y){return y&&v(r(y))}:function(y){return y&&r(y)};return x}function o(q,s){var r;if(q){r=function(t){return t.getAttribute(q)}}else{r=function(t){var u=t.querySelector(s);return u&&k(u)}}return r}return p})();i.sortDataParsers={parseInt:function(o){return parseInt(o,10)},parseFloat:function(o){return parseFloat(o)}};i.prototype._sort=function(){var q=this.options.sortBy;if(!q){return}var o=[].concat.apply(q,this.sortHistory);var p=j(o,this.options.sortAscending);this.filteredItems.sort(p);if(q!=this.sortHistory[0]){this.sortHistory.unshift(q)}};function j(p,o){return function q(z,x){for(var s=0,t=p.length;s<t;s++){var A=p[s];var y=z.sortData[A];var u=x.sortData[A];if(y>u||y<u){var r=o[A]!==undefined?o[A]:o;var v=r?1:-1;return(y>u?1:-1)*v}}return 0}}i.prototype._mode=function(){var p=this.options.layoutMode;var o=this.modes[p];if(!o){throw new Error("No layout mode: "+p)}o.options=this.options[p];return o};i.prototype._resetLayout=function(){f.prototype._resetLayout.call(this);this._mode()._resetLayout()};i.prototype._getItemLayoutPosition=function(o){return this._mode()._getItemLayoutPosition(o)};i.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};i.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()};i.prototype.appended=function(p){var o=this.addItems(p);if(!o.length){return}if(this.options.layoutMode=="justified"){var q=this._filter(o);this.hide(q.needHide);this.reveal(q.matches);this.filteredItems=this.filteredItems.concat(q.matches);this.layoutItems(q.matches,true)}else{var r=this._filterRevealAdded(o);this.filteredItems=this.filteredItems.concat(r)}};i.prototype._filterRevealAdded=function(o){var p=this._filter(o);this.hide(p.needHide);this.reveal(p.matches);this.layoutItems(p.matches,true);return p.matches};i.prototype._noTransition=function(q){var o=this.options.transitionDuration;this.options.transitionDuration=0;var p=q.call(this);this.options.transitionDuration=o;return p};i.prototype.getFilteredItemElements=function(){var p=[];for(var q=0,o=this.filteredItems.length;q<o;q++){p.push(this.filteredItems[q].element)}return p};return i}));
/*!
 * Packery layout mode PACKAGED v1.1.3
 * sub-classes Packery
 * http://packery.metafizzy.co
 */
;
/*!
 * classie v1.0.1
 * class helper functions
 * from bonzo https://github.com/ded/bonzo
 * MIT license
 * 
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */
(function(e){function a(h){return new RegExp("(^|\\s+)"+h+"(\\s+|$)")}var d,f,g;if("classList" in document.documentElement){d=function(h,i){return h.classList.contains(i)};f=function(h,i){h.classList.add(i)};g=function(h,i){h.classList.remove(i)}}else{d=function(h,i){return a(i).test(h.className)};f=function(h,i){if(!d(h,i)){h.className=h.className+" "+i}};g=function(h,i){h.className=h.className.replace(a(i)," ")}}function b(i,j){var h=d(i,j)?g:f;h(i,j)}var c={hasClass:d,addClass:f,removeClass:g,toggleClass:b,has:d,add:f,remove:g,toggle:b};if(typeof define==="function"&&define.amd){define("classie/classie",c)}else{if(typeof exports==="object"){module.exports=c}else{e.classie=c}}})(window);(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/rect",a)}else{if(typeof exports=="object"){module.exports=a()}else{b.Packery=b.Packery||{};b.Packery.Rect=a()}}}(window,function factory(){var b=window.Packery=function(){};function a(c){for(var d in a.defaults){this[d]=a.defaults[d]}for(d in c){this[d]=c[d]}}b.Rect=a;a.defaults={x:0,y:0,width:0,height:0};a.prototype.contains=function(e){var c=e.width||0;var d=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+c&&this.y+this.height>=e.y+d};a.prototype.overlaps=function(f){var g=this.x+this.width;var c=this.y+this.height;var d=f.x+f.width;var e=f.y+f.height;return this.x<d&&g>f.x&&this.y<e&&c>f.y};a.prototype.getMaximalFreeRects=function(h){if(!this.overlaps(h)){return false}var e=[];var d;var i=this.x+this.width;var c=this.y+this.height;var f=h.x+h.width;var g=h.y+h.height;if(this.y<h.y){d=new a({x:this.x,y:this.y,width:this.width,height:h.y-this.y});e.push(d)}if(i>f){d=new a({x:f,y:this.y,width:i-f,height:this.height});e.push(d)}if(c>g){d=new a({x:this.x,y:g,width:this.width,height:c-g});e.push(d)}if(this.x<h.x){d=new a({x:this.x,y:this.y,width:h.x-this.x,height:this.height});e.push(d)}return e};a.prototype.canFit=function(c){return this.width>=c.width&&this.height>=c.height};return a}));(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/packer",["./rect"],a)}else{if(typeof exports=="object"){module.exports=a(require("./rect"))}else{var c=b.Packery=b.Packery||{};c.Packer=a(c.Rect)}}}(window,function factory(a){function c(e,d,f){this.width=e||0;this.height=d||0;this.sortDirection=f||"downwardLeftToRight";this.reset()}c.prototype.reset=function(){this.spaces=[];this.newSpaces=[];var d=new a({x:0,y:0,width:this.width,height:this.height});this.spaces.push(d);this.sorter=b[this.sortDirection]||b.downwardLeftToRight};c.prototype.pack=function(f){for(var e=0,d=this.spaces.length;e<d;e++){var g=this.spaces[e];if(g.canFit(f)){this.placeInSpace(f,g);break}}};c.prototype.placeInSpace=function(d,e){d.x=e.x;d.y=e.y;this.placed(d)};c.prototype.placed=function(h){var e=[];for(var g=0,d=this.spaces.length;g<d;g++){var j=this.spaces[g];var f=j.getMaximalFreeRects(h);if(f){e.push.apply(e,f)}else{e.push(j)}}this.spaces=e;this.mergeSortSpaces()};c.prototype.mergeSortSpaces=function(){c.mergeRects(this.spaces);this.spaces.sort(this.sorter)};c.prototype.addSpace=function(d){this.spaces.push(d);this.mergeSortSpaces()};c.mergeRects=function(n){for(var f=0,h=n.length;f<h;f++){var k=n[f];if(!k){continue}var d=n.slice(0);d.splice(f,1);var l=0;for(var e=0,o=d.length;e<o;e++){var g=d[e];var m=f>e?0:1;if(k.contains(g)){n.splice(e+m-l,1);l++}}}return n};var b={downwardLeftToRight:function(e,d){return e.y-d.y||e.x-d.x},rightwardTopToBottom:function(e,d){return e.x-d.x||e.y-d.y}};return c}));(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],a)}else{if(typeof exports=="object"){module.exports=a(require("desandro-get-style-property"),require("outlayer"),require("./rect"))}else{b.Packery.Item=a(b.getStyleProperty,b.Outlayer,b.Packery.Rect)}}}(window,function factory(f,d,c){var e=f("transform");var b=function g(){d.Item.apply(this,arguments)};b.prototype=new d.Item();var a=b.prototype._create;b.prototype._create=function(){a.call(this);this.rect=new c();this.placeRect=new c()};b.prototype.positionPlaceRect=function(h,j,i){this.placeRect.x=this.getPlaceRectCoord(h,true);this.placeRect.y=this.getPlaceRectCoord(j,false,i)};b.prototype.getPlaceRectCoord=function(m,p,o){var h=p?"Width":"Height";var q=this.size["outer"+h];var l=this.layout[p?"columnWidth":"rowHeight"];var i=this.layout.size["inner"+h];if(!p){i=Math.max(i,this.layout.maxY);if(!this.layout.rowHeight){i-=this.layout.gutter}}var n;if(l){l+=this.layout.gutter;i+=p?this.layout.gutter:0;m=Math.round(m/l);var k;if(this.layout.options.isHorizontal){k=!p?"floor":"ceil"}else{k=p?"floor":"ceil"}var j=Math[k](i/l);j-=Math.ceil(q/l);n=j}else{n=i-q}m=o?m:Math.min(m,n);m*=l||1;return Math.max(0,m)};b.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x;this.rect.y=this.placeRect.y};b.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.layout.packer.addSpace(this.rect);this.emitEvent("remove",[this])};return b}));
/*!
 * Packery v1.4.1
 * bin-packing layout library
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],a)}else{if(typeof exports=="object"){module.exports=a(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item"))}else{b.Packery=a(b.classie,b.getSize,b.Outlayer,b.Packery.Rect,b.Packery.Packer,b.Packery.Item)}}}(window,function factory(f,i,e,a,d,c){a.prototype.canFit=function(j){return this.width>=j.width-1&&this.height>=j.height-1};var h=e.create("packery");h.Item=c;h.prototype._create=function(){e.prototype._create.call(this);this.packer=new d()};h.prototype._resetLayout=function(){this.getSize();this._getMeasurements();var j=this.packer;if(this.options.isHorizontal){j.width=Number.POSITIVE_INFINITY;j.height=this.size.innerHeight+this.gutter;j.sortDirection="rightwardTopToBottom"}else{j.width=this.size.innerWidth+this.gutter;j.height=Number.POSITIVE_INFINITY;j.sortDirection="downwardLeftToRight"}j.reset();this.maxY=0;this.maxX=0};h.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width");this._getMeasurement("rowHeight","height");this._getMeasurement("gutter","width")};h.prototype._getItemLayoutPosition=function(j){this._packItem(j);return j.rect};h.prototype._packItem=function(j){this._setRectSize(j.element,j.rect);this.packer.pack(j.rect);this._setMaxXY(j.rect)};h.prototype._setMaxXY=function(j){this.maxX=Math.max(j.x+j.width,this.maxX);this.maxY=Math.max(j.y+j.height,this.maxY)};h.prototype._setRectSize=function(n,m){var k=i(n);var j=k.outerWidth;var l=k.outerHeight;if(j||l){j=this._applyGridGutter(j,this.columnWidth);l=this._applyGridGutter(l,this.rowHeight)}m.width=Math.min(j,this.packer.width);m.height=Math.min(l,this.packer.height)};h.prototype._applyGridGutter=function(k,j){if(!j){return k+this.gutter}j+=this.gutter;var m=k%j;var l=m&&m<1?"round":"ceil";k=Math[l](k/j)*j;return k};h.prototype._getContainerSize=function(){if(this.options.isHorizontal){return{width:this.maxX-this.gutter}}else{return{height:this.maxY-this.gutter}}};function g(k,j){return k.position.y-j.position.y||k.position.x-j.position.x}function b(k,j){return k.position.x-j.position.x||k.position.y-j.position.y}h.prototype.sortItemsByPosition=function(){var j=this.options.isHorizontal?b:g;this.items.sort(j)};h.prototype.fit=function(l,j,m){var k=this.getItem(l);if(!k){return}this._getMeasurements();k.getSize();k.isPlacing=true;j=j===undefined?k.rect.x:j;m=m===undefined?k.rect.y:m;k.positionPlaceRect(j,m,true);this._bindFitEvents(k);k.moveTo(k.placeRect.x,k.placeRect.y);this.layout();this.unstamp(k.element);this.sortItemsByPosition();k.isPlacing=false;k.copyPlaceRectPosition()};h.prototype._bindFitEvents=function(l){var m=this;var k=0;function j(){k++;if(k!=2){return}m.emitEvent("fitComplete",[l])}l.on("layout",function(){j();return true});this.on("layoutComplete",function(){j();return true})};h.prototype.resize=function(){var l=i(this.element);var k=this.size&&l;var j=this.options.isHorizontal?"innerHeight":"innerWidth";if(k&&l[j]==this.size[j]){return}this.layout()};h.Rect=a;h.Packer=d;return h}));
/*!
 * Packery layout mode v1.1.3
 * sub-classes Packery
 * http://packery.metafizzy.co
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["TG_Layout/js/layout-mode","packery/js/packery","get-size/get-size"],a)}else{if(typeof exports=="object"){module.exports=a(require("TG_Layout-layout/js/layout-mode"),require("packery"),require("get-size"))}else{a(b.TG_Layout.LayoutMode,b.Packery,b.getSize)}}}(window,function factor(d,g,i){function f(k,j){for(var l in j){k[l]=j[l]}return k}var h=d.create("packery");var b=h.prototype._getElementOffset;var c=h.prototype._getMeasurement;f(h.prototype,g.prototype);h.prototype._getElementOffset=b;h.prototype._getMeasurement=c;var a=h.prototype._resetLayout;h.prototype._resetLayout=function(){this.packer=this.packer||new g.Packer();a.apply(this,arguments)};var e=h.prototype._getItemLayoutPosition;h.prototype._getItemLayoutPosition=function(j){j.rect=j.rect||new g.Rect();return e.call(this,j)};h.prototype.needsResizeLayout=function(){var l=i(this.element);var k=this.size&&l;var j=this.options.isHorizontal?"innerHeight":"innerWidth";return k&&l[j]!=this.size[j]};return h}));
/*!
 * horizontal layout mode for TG_Layout
 * v1.1.2
 * http://TG_Layout.metafizzy.co/layout-modes/horizontal.html
 */
(function(a){function b(c){var d=c.create("horizontal");d.prototype._resetLayout=function(){this.x=0};d.prototype._getItemLayoutPosition=function(f){f.getSize();this._getMeasurement("gutter","width");var g=0;var e=this.x;this.x+=f.size.outerWidth+this.gutter;return{x:e,y:g}};d.prototype._getContainerSize=function(){return{width:this.x-this.gutter}};d.prototype.needsResizeLayout=function(){return this.needsVerticalResizeLayout()};return d}if(typeof define==="function"&&define.amd){define(["TG_Layout/js/layout-mode"],b)}else{if(typeof exports==="object"){module.exports=b(require("TG_Layout-layout/js/layout-mode"))}else{b(a.TG_Layout.LayoutMode)}}})(window);
/*!
 * Justified layout mode for TG_Layout
 * v1.0.0
 * Custom layout (Themeone - all right reserved)
 */
(function(b){function a(d){var c=d.create("justified");c.prototype._resetLayout=function(){this.justified_data=[];this.prev_width=0;this.prev_top=0;this.max_width=0;this.count=0;this._getMeasurement("gutter","width");this._getMeasurement("rowHeight","height");var j=this.TG_Layout.size.innerWidth+this.gutter,e=this.TG_Layout.filteredItems;if(this.options.isHorizontal){this.row(e)}else{var l=0;w:while(e.length>0){for(var f=1;f<e.length+1;++f){var k=e.slice(0,f),g=this.getHeight(k,j);if(g<this.rowHeight){this.setHeight(k,g);l++;e=e.slice(f);continue w}}this.setHeight(k,Math.min(this.rowHeight,g));l++;break}this.checkWidth()}};c.prototype.row=function(l){var k=this.options.row;var m=this.rowHeight;for(var h=0;h<l.length;++h){var f=jQuery(l[h].element).find(this.options.image),o=(f[0])?this.getSize(f):[],e=(o.width)?Math.round(m*o.width/o.height):m*16/9,n=this.justified_data[h-k],j=(n)?n.x+n.width+this.gutter:0,g=(n)?n.y:h*(m+this.gutter);this.justified_data.push({width:e,height:m,x:j,y:g})}};c.prototype.getHeight=function(g,m){m-=g.length*this.gutter;var l=0;for(var k=0;k<g.length;++k){var n=jQuery(g[k].element).find(this.options.image),j=(n[0])?this.getSize(n):[],f=(j.width)?j.width:this.rowHeight*16/9,e=(j.height)?j.height:this.rowHeight;l+=f/e}return m/l};c.prototype.setHeight=function(f,e){this.prev_width=0;for(var h=0;h<f.length;++h){var k=jQuery(f[h].element).find(this.options.image),e=Math.round(e),g=(k[0])?this.getSize(k):[],j=(g.width)?Math.round(e*g.width/g.height):e*16/9;this.justified_data.push({width:j,height:e,x:this.prev_width,y:this.prev_top});this.prev_width+=j+this.gutter}this.prev_top+=e+this.gutter};c.prototype.getSize=function(h){if(h[0].naturalWidth){var g=(h[0])?h[0].naturalWidth:null;var f=(h[0])?h[0].naturalHeight:null}else{var e=new Image();e.src=(h[0])?h.attr("src"):null;var g=(e)?e.width:null;var f=(e)?e.height:null}return{width:g,height:f}};c.prototype.checkWidth=function(){var h=0;var e=this.justified_data.length;for(var f=0;f<this.justified_data.length;++f){if(this.justified_data[f].y!=h){this.adjustWidth(f-1)}h=this.justified_data[f].y}var g=this.justified_data[e-1];if(g&&(g.x+g.width)>this.TG_Layout.size.innerWidth){this.adjustWidth(e-1)}};c.prototype.adjustWidth=function(f){var e=this.justified_data[f].x;var h=this.justified_data[f].width;var g=this.TG_Layout.size.innerWidth-(e+h);this.justified_data[f].width=h+g};c.prototype._getItemLayoutPosition=function(g){if(!this.justified_data[this.count]){this.pcount=this.count;this._resetLayout();for(var f=0;f<this.pcount;++f){jQuery(this.TG_Layout.filteredItems[f].element).width(this.justified_data[f].width).height(this.justified_data[f].height).css("top",this.justified_data[f].y).css("left",this.justified_data[f].x);var h=this.justified_data[f].x+this.justified_data[f].width;this.max_width=(h>this.max_width)?h:this.max_width}this.count=this.pcount}g.element.style.width=this.justified_data[this.count].width+"px";g.element.style.height=this.justified_data[this.count].height+"px";var e={x:this.justified_data[this.count].x,y:this.justified_data[this.count].y};var h=e.x+this.justified_data[this.count].width;this.max_width=(h>this.max_width)?h:this.max_width;++this.count;return e};c.prototype._getContainerSize=function(){if(this.options.isHorizontal){return{width:this.max_width,height:(this.rowHeight+this.gutter)*this.options.row-this.gutter}}else{return{height:this.prev_top-this.gutter}}};c.prototype.needsResizeLayout=function(){return this.max_width};return c}if(typeof define==="function"&&define.amd){define(["TG_Layout/js/layout-mode"],a)}else{if(typeof exports==="object"){module.exports=a(require("TG_Layout-layout/js/layout-mode"))}else{a(b.TG_Layout.LayoutMode)}}})(window);(function(b){var a=TG_Layout.Item.prototype.reveal;TG_Layout.Item.prototype.reveal=function(){a.apply(this,arguments);b(this.element).removeClass("tg-item-hidden")};var c=TG_Layout.Item.prototype.hide;TG_Layout.Item.prototype.hide=function(){c.apply(this,arguments);b(this.element).addClass("tg-item-hidden")}})(jQuery);