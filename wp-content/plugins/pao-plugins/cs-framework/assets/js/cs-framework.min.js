(function(d,c,a,f){d.CSFRAMEWORK=d.CSFRAMEWORK||{};var e=d("body");var b=e.hasClass("rtl");d.fn.CSFRAMEWORK_TAB_NAVIGATION=function(){return this.each(function(){var j=d(this),g=j.find(".cs-nav"),h=j.find(".cs-reset"),i=j.find(".cs-expand-all");g.find("ul:first a").on("click",function(n){n.preventDefault();var m=d(this),l=m.next(),k=m.data("section");if(l.is("ul")){l.slideToggle("fast");m.closest("li").toggleClass("cs-tab-active")}else{d("#cs-tab-"+k).show().siblings().hide();g.find("a").removeClass("cs-section-active");m.addClass("cs-section-active");h.val(k)}});i.on("click",function(k){k.preventDefault();j.find(".cs-body").toggleClass("cs-show-all");d(this).find(".fa").toggleClass("fa-eye-slash").toggleClass("fa-eye")})})};d.CSFRAMEWORK.DEPENDENCY=function(g,i){var h=this;h.$el=d(g);h.el=g;h.init=function(){h.ruleset=d.deps.createRuleset();var j={show:function(k){k.removeClass("hidden")},hide:function(k){k.addClass("hidden")},log:false,checkTargets:false};if(i!==f){h.depSub()}else{h.depRoot()}d.deps.enable(h.$el,h.ruleset,j)};h.depRoot=function(){h.$el.each(function(){d(this).find("[data-controller]").each(function(){var m=d(this),l=m.data("controller").split("|"),n=m.data("condition").split("|"),j=m.data("value").toString().split("|"),k=h.ruleset;d.each(l,function(o,p){var q=j[o]||"",r=n[o]||n[0];k=k.createRule('[data-depend-id="'+p+'"]',r,q);k.include(m)})})})};h.depSub=function(){h.$el.each(function(){d(this).find("[data-sub-controller]").each(function(){var m=d(this),l=m.data("sub-controller").split("|"),n=m.data("sub-condition").split("|"),j=m.data("sub-value").toString().split("|"),k=h.ruleset;d.each(l,function(o,p){var q=j[o]||"",r=n[o]||n[0];k=k.createRule('[data-sub-depend-id="'+p+'"]',r,q);k.include(m)})})})};h.init()};d.fn.CSFRAMEWORK_DEPENDENCY=function(g){return this.each(function(){new d.CSFRAMEWORK.DEPENDENCY(this,g)})};d.fn.CSFRAMEWORK_CHOSEN=function(){return this.each(function(){d(this).chosen({allow_single_deselect:true,disable_search_threshold:15,width:parseFloat(d(this).actual("width")+25)+"px"})})};d.fn.CSFRAMEWORK_IMAGE_SELECTOR=function(){return this.each(function(){d(this).find("label").on("click",function(){d(this).siblings().find("input").prop("checked",false)})})};d.fn.CSFRAMEWORK_SORTER=function(){return this.each(function(){var i=d(this),g=i.find(".cs-enabled"),h=i.find(".cs-disabled");g.sortable({connectWith:h,placeholder:"ui-sortable-placeholder",update:function(k,l){var j=l.item.find("input");if(l.item.parent().hasClass("cs-enabled")){j.attr("name",j.attr("name").replace("disabled","enabled"))}else{j.attr("name",j.attr("name").replace("enabled","disabled"))}}});h.sortable({connectWith:g,placeholder:"ui-sortable-placeholder"})})};d.fn.CSFRAMEWORK_UPLOADER=function(){return this.each(function(){var g=d(this),j=g.find(".cs-add"),i=g.find("input"),h;j.on("click",function(k){k.preventDefault();if(typeof wp==="undefined"||!wp.media||!wp.media.gallery){return}if(h){h.open();return}h=wp.media({title:j.data("frame-title"),library:{type:j.data("upload-type")},button:{text:j.data("insert-title")}});h.on("select",function(){var l=h.state().get("selection").first();i.val(l.attributes.url).trigger("change")});h.open()})})};d.fn.CSFRAMEWORK_IMAGE_UPLOADER=function(){return this.each(function(){var j=d(this),m=j.find(".cs-add"),i=j.find(".cs-image-preview"),g=j.find(".cs-remove"),l=j.find("input"),h=j.find("img"),k;m.on("click",function(n){n.preventDefault();if(typeof wp==="undefined"||!wp.media||!wp.media.gallery){return}if(k){k.open();return}k=wp.media({library:{type:"image"}});k.on("select",function(){var o=k.state().get("selection").first().attributes;var p=(typeof o.sizes!=="undefined"&&typeof o.sizes.thumbnail!=="undefined")?o.sizes.thumbnail.url:o.url;i.removeClass("hidden");h.attr("src",p);l.val(o.id).trigger("change")});k.open()});g.on("click",function(n){n.preventDefault();l.val("").trigger("change");i.addClass("hidden")})})};d.fn.CSFRAMEWORK_IMAGE_GALLERY=function(){return this.each(function(){var k=d(this),g=k.find(".cs-edit"),i=k.find(".cs-remove"),h=k.find("ul"),m=k.find("input"),j=k.find("img"),l;k.on("click",".cs-add, .cs-edit",function(r){var n=d(this),o=m.val(),q=(n.hasClass("cs-edit"))?"edit":"add",p=(q==="add"&&!o.length)?"gallery":"gallery-edit";r.preventDefault();if(typeof wp==="undefined"||!wp.media||!wp.media.gallery){return}if(p==="gallery"){l=wp.media({library:{type:"image"},frame:"post",state:"gallery",multiple:true});l.open()}else{l=wp.media.gallery.edit('[gallery ids="'+o+'"]');if(q==="add"){l.setState("gallery-library")}}l.on("update",function(u){var s="";var t=[];u.models.map(function(w){var v=w.toJSON();var x=(typeof v.sizes.thumbnail!=="undefined")?v.sizes.thumbnail.url:v.url;s+='<li><img src="'+x+'"></li>';t.push(v.id)});m.val(t).trigger("change");h.html("").append(s);i.removeClass("hidden");g.removeClass("hidden")})});i.on("click",function(n){n.preventDefault();h.html("");m.val("").trigger("change");i.addClass("hidden");g.addClass("hidden")})})};d.fn.CSFRAMEWORK_TYPOGRAPHY=function(){return this.each(function(){var i=d(this),g=i.find(".cs-typo-family"),h=i.find(".cs-typo-variant"),j=i.find(".cs-typo-font");g.on("change",function(){var m=d(this),l=m.find(":selected").data("type")||"custom",k=m.find(":selected").data("variants");if(h.length){h.find("option").remove();d.each(k.split("|"),function(n,o){h.append('<option value="'+o+'">'+o+"</option>")});h.find('option[value="regular"]').attr("selected","selected").trigger("chosen:updated")}j.val(l)})})};d.fn.CSFRAMEWORK_GROUP=function(){return this.each(function(){var l=d(this),k=l.find(".cs-groups"),g=l.find(".cs-accordion"),j=l.find(".cs-group:first").clone();if(g.length){g.accordion({header:".cs-group-title",collapsible:true,active:false,animate:250,heightStyle:"content",icons:{header:"dashicons dashicons-arrow-right",activeHeader:"dashicons dashicons-arrow-down"},beforeActivate:function(i,m){d(m.newPanel).CSFRAMEWORK_DEPENDENCY("sub")}})}k.sortable({axis:"y",handle:".cs-group-title",helper:"original",cursor:"move",placeholder:"widget-placeholder",start:function(m,n){var i=n.item.children(".cs-group-content");if(i.css("display")==="block"){i.hide();k.sortable("refreshPositions")}},stop:function(i,m){m.item.children(".cs-group-title").triggerHandler("focusout");g.accordion({active:false})}});var h=0;d(".cs-add-group",l).on("click",function(m){m.preventDefault();j.find("input, select, textarea").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(n,o){return"["+(parseInt(o,10)+1)+"]"})});var i=j.clone().removeClass("hidden");k.append(i);if(g.length){k.accordion("refresh");k.accordion({active:i.index()})}k.find("input, select, textarea").each(function(){this.name=this.name.replace("[_nonce]","")});i.CSFRAMEWORK_DEPENDENCY("sub");i.CSFRAMEWORK_RELOAD_PLUGINS();h++});k.on("click",".cs-remove-group",function(i){i.preventDefault();d(this).closest(".cs-group").remove()})})};d.fn.CSFRAMEWORK_CONFIRM=function(){return this.each(function(){d(this).on("click",function(g){if(!confirm("Are you sure?")){g.preventDefault()}})})};d.fn.CSFRAMEWORK_SAVE=function(){return this.each(function(){var j=d(this),i=j.data("save"),h=j.val(),g=d("#cs-save-ajax");d(a).on("keydown",function(k){if(k.ctrlKey||k.metaKey){if(String.fromCharCode(k.which).toLowerCase()==="s"){k.preventDefault();j.trigger("click")}}});j.on("click",function(l){if(g.length){if(typeof tinyMCE==="object"){tinyMCE.triggerSave()}j.prop("disabled",true).attr("value",i);var k=d("#csframework_form").serialize();d.post("options.php",k).error(function(){alert("Error, Please try again.")}).success(function(){j.prop("disabled",false).attr("value",h);g.hide().fadeIn().delay(250).fadeOut()});l.preventDefault()}else{j.addClass("disabled").attr("value",i)}})})};d.fn.CSFRAMEWORK_TAXONOMY=function(){return this.each(function(){var k=d(this),j=k.parent();if(j.attr("id")==="addtag"){var n=j.find("#submit"),m=j.find("#tag-name"),g=j.find(".cs-framework"),i=g.find(".cs-element").clone(),h=d("#the-list"),l=false;n.on("click",function(){if(!l){h.on("DOMNodeInserted",function(){if(l){g.empty();g.html(i);i=i.clone();g.CSFRAMEWORK_RELOAD_PLUGINS();g.CSFRAMEWORK_DEPENDENCY();l=false}})}l=true})}})};if(typeof d.widget!=="undefined"&&typeof d.ui!=="undefined"&&typeof d.ui.dialog!=="undefined"){d.widget("ui.dialog",d.ui.dialog,{_createOverlay:function(){this._super();if(!this.options.modal){return}this._on(this.overlay,{click:"close"})}})}d.CSFRAMEWORK.ICONS_MANAGER=function(){var g=this,i=true,h;g.init=function(){e.on("click",".cs-icon-add",function(o){o.preventDefault();var n=d(this),m=d("#cs-icon-dialog"),k=m.find(".cs-dialog-load"),j=m.find(".cs-dialog-select"),p=m.find(".cs-dialog-insert"),l=m.find(".cs-icon-search");h=n.closest(".cs-icon-select");m.dialog({width:850,height:700,modal:true,resizable:false,closeOnEscape:true,position:{my:"center",at:"center",of:c},open:function(){e.addClass("cs-icon-scrolling");d(".ui-dialog-titlebar-close").addClass("ui-button");d(c).on("resize",function(){var q=d(c).height(),s=Math.floor(q-237),r=Math.floor(q-125);m.dialog("option","height",r).parent().css("max-height",r);m.css("overflow","auto");k.css("height",s)}).resize()},close:function(){e.removeClass("cs-icon-scrolling")}});if(i){d.ajax({type:"POST",url:ajaxurl,data:{action:"cs-get-icons"},success:function(q){k.html(q);i=false;k.on("click","a",function(s){s.preventDefault();var r=d(this).data("cs-icon");h.find("i").removeAttr("class").addClass(r);h.find("input").val(r).trigger("change");h.find(".cs-icon-preview").removeClass("hidden");h.find(".cs-icon-remove").removeClass("hidden");m.dialog("close")});l.keyup(function(){var s=d(this).val(),r=k.find("a");r.each(function(){var t=d(this);if(t.data("cs-icon").search(new RegExp(s,"i"))<0){t.hide()}else{t.show()}})});k.find(".cs-icon-tooltip").cstooltip({html:true,placement:"top",container:"body"})}})}});e.on("click",".cs-icon-remove",function(l){l.preventDefault();var k=d(this),j=k.closest(".cs-icon-select");j.find(".cs-icon-preview").addClass("hidden");j.find("input").val("").trigger("change");k.addClass("hidden")})};g.init()};d.CSFRAMEWORK.SHORTCODE_MANAGER=function(){var h=this,g;h.init=function(){var l=d("#cs-shortcode-dialog"),o=l.find(".cs-dialog-insert"),i=l.find(".cs-dialog-load"),s=l.find(".cs-dialog-select"),k=false,r,p,j,n,q;e.on("click",".cs-shortcode",function(t){t.preventDefault();s.CSFRAMEWORK_CHOSEN();n=d(this);k=n.hasClass("cs-shortcode-textarea");q=n.data("editor-id");l.dialog({width:850,height:700,modal:true,resizable:false,closeOnEscape:true,position:{my:"center",at:"center",of:c},open:function(){e.addClass("cs-shortcode-scrolling");d(".ui-dialog-titlebar-close").addClass("ui-button");d(c).on("resize",function(){var u=d(c).height(),w=Math.floor(u-281),v=Math.floor(u-125);l.dialog("option","height",v).parent().css("max-height",v);l.css("overflow","auto");i.css("height",w)}).resize()},close:function(){k=false;e.removeClass("cs-shortcode-scrolling")}})});s.on("change",function(){var t=d(this);r=t.val();p=t.find(":selected").data("view");if(r.length){d.ajax({type:"POST",url:ajaxurl,data:{action:"cs-get-shortcode",shortcode:r},success:function(u){i.html(u);o.parent().removeClass("hidden");j=d(".cs-shortcode-clone",l).clone();i.CSFRAMEWORK_DEPENDENCY();i.CSFRAMEWORK_DEPENDENCY("sub");i.CSFRAMEWORK_RELOAD_PLUGINS()}})}else{o.parent().addClass("hidden");i.html("")}});o.on("click",function(x){x.preventDefault();var w="",t="data-atts",v="data-clone-atts",u="data-clone-id";switch(p){case"contents":d("["+t+"]",".cs-dialog-load").each(function(){var A=d(this),z=A.data("atts");w+="["+z+"]";w+=A.val();w+="[/"+z+"]"});break;case"clone":w+="["+r;d("["+t+"]",".cs-dialog-load .cs-element:not(.hidden)").each(function(){var A=d(this),z=A.data("atts");w+=h.validate_atts(z,A)});w+="]";d("["+u+"]",".cs-dialog-load").each(function(){var z=d(this),A=z.data("clone-id");w+="["+A;d("["+v+"]",z.find(".cs-element").not(".hidden")).each(function(){var B=d(this),C=B.data("clone-atts");if(C!=="content"){w+=h.validate_atts(C,B)}else{if(C==="content"){w+="]";w+=B.val();w+="[/"+A+""}}});w+="]"});w+="[/"+r+"]";break;case"clone_duplicate":d("["+u+"]",".cs-dialog-load").each(function(){var z=d(this),A=z.data("clone-id");w+="["+A;d("["+v+"]",z.find(".cs-element").not(".hidden")).each(function(){var B=d(this),C=B.data("clone-atts");if(C!=="content"){w+=h.validate_atts(C,B)}else{if(C==="content"){w+="]";w+=B.val();w+="[/"+A+""}}});w+="]"});break;default:w+="["+r;d("["+t+"]",".cs-dialog-load .cs-element:not(.hidden)").each(function(){var A=d(this),z=A.data("atts");if(z!=="content"){w+=h.validate_atts(z,A)}else{if(z==="content"){w+="]";w+=A.val();w+="[/"+r+""}}});w+="]";break}if(k){var y=n.next();y.val(h.insertAtChars(y,w)).trigger("change")}else{h.send_to_editor(w,q)}g=null;l.dialog("close")});var m=0;l.on("click","#shortcode-clone-button",function(u){u.preventDefault();var t=j.clone().hide();t.find("input:radio").attr("name","_nonce_"+m);d(".cs-shortcode-clone:last").after(t);t.slideDown(100);t.find(".cs-remove-clone").show().on("click",function(v){t.slideUp(100,function(){t.remove()});v.preventDefault()});t.CSFRAMEWORK_DEPENDENCY("sub");t.CSFRAMEWORK_RELOAD_PLUGINS();m++})};h.validate_atts=function(j,k){var i;if(k.data("check")!==f&&g===j){return""}g=j;if(k.closest(".pseudo-field").hasClass("hidden")===true){return""}if(k.hasClass("pseudo")===true){return""}if(k.is(":checkbox")||k.is(":radio")){i=k.is(":checked")?k.val():""}else{i=k.val()}if(k.data("check")!==f){i=k.closest(".cs-element").find("input:checked").map(function(){return d(this).val()}).get()}if(i!==null&&i!==f&&i!==""&&i.length!==0){return" "+j+'="'+i+'"'}return""};h.insertAtChars=function(k,i){var j=(typeof k[0].name!=="undefined")?k[0]:k;if(j.value.length&&typeof j.selectionStart!=="undefined"){j.focus();return j.value.substring(0,j.selectionStart)+i+j.value.substring(j.selectionEnd,j.value.length)}else{j.focus();return i}};h.send_to_editor=function(i,l){var j;if(typeof tinymce!=="undefined"){j=tinymce.get(l)}if(j&&!j.isHidden()){j.execCommand("mceInsertContent",false,i)}else{var k=d("#"+l);k.val(h.insertAtChars(k,i)).trigger("change")}};h.init()};if(typeof Color==="function"){Color.fn.toString=function(){if(this._alpha<1){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var h=parseInt(this._color,10).toString(16);if(this.error){return""}if(h.length<6){for(var g=6-h.length-1;g>=0;g--){h="0"+h}}return"#"+h}}d.CSFRAMEWORK.PARSE_COLOR_VALUE=function(j){var h=j.replace(/\s+/g,""),i=(h.indexOf("rgba")!==-1)?parseFloat(h.replace(/^.*,(.+)\)/,"$1")*100):100,g=(i<100)?true:false;return{value:h,alpha:i,rgba:g}};d.fn.CSFRAMEWORK_COLORPICKER=function(){return this.each(function(){var h=d(this);if(h.data("rgba")!==false){var g=d.CSFRAMEWORK.PARSE_COLOR_VALUE(h.val());h.wpColorPicker({clear:function(){h.trigger("keyup")},change:function(i,j){var k=j.color.toString();h.closest(".wp-picker-container").find(".cs-alpha-slider-offset").css("background-color",k);h.val(k).trigger("change")},create:function(){var i=h.data("a8cIris"),m=h.closest(".wp-picker-container"),n=d('<div class="cs-alpha-wrap"><div class="cs-alpha-slider"></div><div class="cs-alpha-slider-offset"></div><div class="cs-alpha-text"></div></div>').appendTo(m.find(".wp-picker-holder")),k=n.find(".cs-alpha-slider"),j=n.find(".cs-alpha-text"),l=n.find(".cs-alpha-slider-offset");k.slider({slide:function(o,p){var q=parseFloat(p.value/100);i._color._alpha=q;h.wpColorPicker("color",i._color.toString());j.text((q<1?q:""))},create:function(){var p=parseFloat(g.alpha/100),o=p<1?p:"";j.text(o);l.css("background-color",g.value);m.on("click",".wp-picker-clear",function(){i._color._alpha=1;j.text("").trigger("change");k.slider("option","value",100).trigger("slide")});m.on("click",".wp-picker-default",function(){var s=d.CSFRAMEWORK.PARSE_COLOR_VALUE(h.data("default-color")),q=parseFloat(s.alpha/100),r=q<1?q:"";i._color._alpha=q;j.text(r);k.slider("option","value",s.alpha).trigger("slide")});m.on("click",".wp-color-result",function(){n.toggle()});e.on("click.wpcolorpicker",function(){n.hide()})},value:g.alpha,step:1,min:1,max:100})}})}else{h.wpColorPicker({clear:function(){h.trigger("keyup")},change:function(i,j){h.val(j.color.toString()).trigger("change")}})}})};d.CSFRAMEWORK.WIDGET_RELOAD_PLUGINS=function(){d(a).on("widget-added widget-updated",function(g,h){h.CSFRAMEWORK_RELOAD_PLUGINS();h.CSFRAMEWORK_DEPENDENCY()})};d.fn.CSFRAMEWORK_TOOLTIP=function(){return this.each(function(){var g=(b)?"right":"left";d(this).cstooltip({html:true,placement:g,container:"body"})})};d.fn.CSFRAMEWORK_RELOAD_PLUGINS=function(){return this.each(function(){d(".chosen",this).CSFRAMEWORK_CHOSEN();d(".cs-field-image-select",this).CSFRAMEWORK_IMAGE_SELECTOR();d(".cs-field-image",this).CSFRAMEWORK_IMAGE_UPLOADER();d(".cs-field-gallery",this).CSFRAMEWORK_IMAGE_GALLERY();d(".cs-field-sorter",this).CSFRAMEWORK_SORTER();d(".cs-field-upload",this).CSFRAMEWORK_UPLOADER();d(".cs-field-typography",this).CSFRAMEWORK_TYPOGRAPHY();d(".cs-field-color-picker",this).CSFRAMEWORK_COLORPICKER();d(".cs-help",this).CSFRAMEWORK_TOOLTIP()})};d(a).ready(function(){d(".cs-framework").CSFRAMEWORK_TAB_NAVIGATION();d(".cs-reset-confirm, .cs-import-backup").CSFRAMEWORK_CONFIRM();d(".cs-content, .wp-customizer, .widget-content, .cs-taxonomy").CSFRAMEWORK_DEPENDENCY();d(".cs-field-group").CSFRAMEWORK_GROUP();d(".cs-save").CSFRAMEWORK_SAVE();d(".cs-taxonomy").CSFRAMEWORK_TAXONOMY();d(".cs-framework, #widgets-right").CSFRAMEWORK_RELOAD_PLUGINS();d.CSFRAMEWORK.ICONS_MANAGER();d.CSFRAMEWORK.SHORTCODE_MANAGER();d.CSFRAMEWORK.WIDGET_RELOAD_PLUGINS()})})(jQuery,window,document);