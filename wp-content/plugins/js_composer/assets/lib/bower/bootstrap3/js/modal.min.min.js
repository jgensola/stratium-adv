!function(d){var b=function(f,e){this.options=e,this.$body=d(document.body),this.$element=d(f),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,d.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function c(e,f){return this.each(function(){var i=d(this),h=i.data("bs.modal"),g=d.extend({},b.DEFAULTS,i.data(),"object"==typeof e&&e);h||i.data("bs.modal",h=new b(this,g)),"string"==typeof e?h[e](f):g.show&&h.show(f)})}b.VERSION="3.1.1",b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},b.prototype.show=function(h){var f=this,g=d.Event("show.bs.modal",{relatedTarget:h});this.$element.trigger(g),this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',d.proxy(this.hide,this)),this.backdrop(function(){var j=d.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(f.$body),f.$element.show().scrollTop(0),j&&f.$element[0].offsetWidth,f.$element.addClass("in").attr("aria-hidden",!1),f.enforceFocus();var i=d.Event("shown.bs.modal",{relatedTarget:h});j?f.$element.find(".modal-dialog").one(d.support.transition.end,function(){f.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):f.$element.trigger("focus").trigger(i)}))},b.prototype.hide=function(f){f&&f.preventDefault(),f=d.Event("hide.bs.modal"),this.$element.trigger(f),this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),d(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),d.support.transition&&this.$element.hasClass("fade")?this.$element.one(d.support.transition.end,d.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){d(document).off("focusin.bs.modal").on("focusin.bs.modal",d.proxy(function(f){this.$element[0]===f.target||this.$element.has(f.target).length||this.$element.trigger("focus")},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",d.proxy(function(f){27==f.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(i){var h=this,f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=d.support.transition&&f;if(this.$backdrop=d('<div class="modal-backdrop '+f+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",d.proxy(function(j){j.target===j.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i){return}e?this.$backdrop.one(d.support.transition.end,i).emulateTransitionEnd(150):i()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){h.removeBackdrop(),i&&i()};d.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(d.support.transition.end,g).emulateTransitionEnd(150):g()}else{i&&i()}}},b.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},b.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},b.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},b.prototype.measureScrollbar=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure",this.$body.append(f);var e=f.offsetWidth-f.clientWidth;return this.$body[0].removeChild(f),e};var a=d.fn.modal;d.fn.modal=c,d.fn.modal.Constructor=b,d.fn.modal.noConflict=function(){return d.fn.modal=a,this},d(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(j){var i=d(this),g=i.attr("href"),f=d(i.attr("data-target")||g&&g.replace(/.*(?=#[^\s]+$)/,"")),h=f.data("bs.modal")?"toggle":d.extend({remote:!/#/.test(g)&&g},f.data(),i.data());i.is("a")&&j.preventDefault(),c.call(f,h,this),f.one("hide.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})})}(jQuery);