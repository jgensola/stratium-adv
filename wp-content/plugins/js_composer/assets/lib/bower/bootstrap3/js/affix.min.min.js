!function(d){var c=function(f,e){this.options=d.extend({},c.DEFAULTS,e),this.$target=d(this.options.target).on("scroll.bs.affix.data-api",d.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",d.proxy(this.checkPositionWithEventLoop,this)),this.$element=d(f),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};function b(e){return this.each(function(){var h=d(this),g=h.data("bs.affix"),f="object"==typeof e&&e;g||h.data("bs.affix",g=new c(this,f)),"string"==typeof e&&g[e]()})}c.VERSION="3.1.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(c.RESET).addClass("affix");var f=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-f},c.prototype.checkPositionWithEventLoop=function(){setTimeout(d.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=d(document).height(),f=this.$target.scrollTop(),k=this.$element.offset(),i=this.options.offset,g=i.top,h=i.bottom;"object"!=typeof i&&(h=g=i),"function"==typeof g&&(g=i.top(this.$element)),"function"==typeof h&&(h=i.bottom(this.$element));var j=!(null!=this.unpin&&f+this.unpin<=k.top)&&(null!=h&&k.top+this.$element.height()>=n-h?"bottom":null!=g&&f<=g&&"top");if(this.affixed!==j){null!=this.unpin&&this.$element.css("top","");var m="affix"+(j?"-"+j:""),l=d.Event(m+".bs.affix");this.$element.trigger(l),l.isDefaultPrevented()||(this.affixed=j,this.unpin="bottom"==j?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(m).trigger(d.Event(m.replace("affix","affixed"))),"bottom"==j&&this.$element.offset({top:n-this.$element.height()-h}))}}};var a=d.fn.affix;d.fn.affix=b,d.fn.affix.Constructor=c,d.fn.affix.noConflict=function(){return d.fn.affix=a,this},d(window).on("load",function(){d('[data-spy="affix"]').each(function(){var f=d(this),e=f.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),b.call(f,e)})})}(jQuery);