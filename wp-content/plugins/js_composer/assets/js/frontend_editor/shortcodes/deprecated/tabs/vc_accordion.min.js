(function(a){window.InlineShortcodeView_vc_accordion=window.InlineShortcodeView_vc_row.extend({events:{"click > .wpb_accordion > .vc_empty-element":"addElement"},render:function(){_.bindAll(this,"stopSorting");this.$accordion=this.$el.find("> .wpb_accordion");window.InlineShortcodeView_vc_accordion.__super__.render.call(this);return this},changed:function(){if(this.allowAddControlOnEmpty()&&0===this.$el.find(".vc_element[data-tag]").length){this.$el.addClass("vc_empty").find("> :first").addClass("vc_empty-element")}else{this.allowAddControlOnEmpty()&&this.$el.removeClass("vc_empty").find("> .vc_empty-element").removeClass("vc_empty-element");this.setSorting()}},buildAccordion:function(b){var c=false;if(b){c=this.$accordion.find("[data-model-id="+b.get("id")+"]").index()}vc.frame_window.vc_iframe.buildAccordion(this.$accordion,c)},setSorting:function(){vc.frame_window.vc_iframe.setAccordionSorting(this)},beforeUpdate:function(){this.$el.find(".wpb_accordion_heading").remove();window.InlineShortcodeView_vc_accordion.__super__.beforeUpdate.call(this)},stopSorting:function(){this.$accordion.find("> .wpb_accordion_wrapper > .vc_element[data-tag]").each(function(){var b=vc.shortcodes.get(a(this).data("modelId"));b.save({order:a(this).index()},{silent:true})})},addElement:function(b){b&&b.preventDefault();new vc.ShortcodesBuilder().create({shortcode:"vc_accordion_tab",params:{title:window.i18nLocale.section},parent_id:this.model.get("id")}).render()},rowsColumnsConverted:function(){_.each(vc.shortcodes.where({parent_id:this.model.get("id")}),function(b){b.view.rowsColumnsConverted&&b.view.rowsColumnsConverted()})}})})(window.jQuery);