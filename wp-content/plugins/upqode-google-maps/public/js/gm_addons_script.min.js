(function(f,e,c,h){if(f(".ugm-map-wrapper").length){f(".ugm-map-wrapper > div").each(function(){g(this)})}function g(o){var q=f(o).attr("data-id-map");var p=vc_gm_map[q-1];var i=new google.maps.LatLngBounds();var k=new google.maps.Geocoder();var m=-34.397;var n=150.644;var j=new google.maps.Map(o,{center:{lat:m,lng:n},zoomControl:Boolean(p.zoom_control),zoomControlOptions:{position:google.maps.ControlPosition[p.zoom_control_position],style:google.maps.ZoomControlStyle.SMALL},zoom:Number(p.zoom_map),scrollwheel:Boolean(p.is_scroll_wheel),draggable:Boolean(p.is_dragable_map),panControl:Boolean(p.is_pan_controls),panControlOptions:{position:google.maps.ControlPosition[p.pan_control_position]},scaleControl:Boolean(p.is_scale_control),streetViewControl:Boolean(p.is_street_view),streetViewControlOptions:{position:google.maps.ControlPosition[p.street_view_control_position]},mapTypeControl:p.is_map_type_control,mapTypeControlOptions:{position:google.maps.ControlPosition[p.map_type_control_position],style:google.maps.MapTypeControlStyle[p.map_type_control_style]},mapTypeId:google.maps.MapTypeId[p.map_type],styles:f.parseJSON(p.json_style)});if(Boolean(p.is_search)==true){if(k){k.geocode({address:String(p.searsh_line)},function(s,r){if(r==google.maps.GeocoderStatus.OK){if(r!=google.maps.GeocoderStatus.ZERO_RESULTS){google.maps.event.addListenerOnce(j,"tilesloaded",function(){j.setCenter(s[0].geometry.location)})}else{console.log("No results found")}}else{console.log("Geocode was not successful for the following reason: "+r)}})}}if(Boolean(p.is_reload_on_resize)===true){google.maps.event.addDomListener(e,"resize",function(){var r=j.getCenter();google.maps.event.trigger(j,"resize");j.setCenter(r)})}if(p.markers){d(p.markers,j,i,p)}if(p.center_map==="yes"||Boolean(p.is_search)==false){google.maps.event.addListenerOnce(j,"tilesloaded",function(){j.fitBounds(i);j.setOptions({zoom:Number(p.zoom_map)})})}if(p.is_3d_mode==="true"){google.maps.event.addListenerOnce(j,"tilesloaded",function(){j.setTilt(45)})}if(p.activate_geo==="browser_location"){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(r){var t={lat:r.coords.latitude,lng:r.coords.longitude};var s=new google.maps.Marker({position:t,map:j,draggable:false,title:"You are location"});j.setCenter(t)},function(){b(true)})}else{b(false)}}else{if(p.activate_geo==="ip_location"){var l=new google.maps.Marker({position:p.ip_coords,map:j,draggable:false,title:"You are location"});j.setCenter({lat:p.ip_coords.lat,lng:p.ip_coords.lng})}}}function b(i){console.log(i?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}function d(s,j,i,q){var l=s.length;var r="";var o="";var n=[];var p=new google.maps.DirectionsService;var t=new google.maps.DirectionsRenderer;s.forEach(function(v,u){var w=new google.maps.Geocoder();if(v.marker_address!==""&&q.type_chortcode==="single_markers"){if(w){w.geocode({address:String(v.marker_address)},function(z,y){if(y==google.maps.GeocoderStatus.OK){if(y!=google.maps.GeocoderStatus.ZERO_RESULTS){var x=new google.maps.Marker({position:{lat:z[0].geometry.location.lat(),lng:z[0].geometry.location.lng()},map:j,draggable:false,title:v.direction_link,icon:v.marker});i.extend(x.position);if(v.icon_animation!=="none"){if(v.icon_animation==="BOUNCE"){x.setAnimation(google.maps.Animation.BOUNCE)}}if(v.default_open_in_window!=="no"){a(j,x,v.text)}x.addListener("click",function(){a(j,x,v.text)})}else{console.log("No results found")}}else{console.log("Geocode was not successful for the following reason: "+y)}})}}if(v.marker_address!==""&&q.type_chortcode=="directions"){if(w){w.geocode({address:String(v.marker_address)},function(y,x){if(x==google.maps.GeocoderStatus.OK){if(x!=google.maps.GeocoderStatus.ZERO_RESULTS){i.extend(y[0].geometry.location);new google.maps.Marker({position:{lat:y[0].geometry.location.lat(),lng:y[0].geometry.location.lng()},map:j,draggable:false,title:v.direction_link,icon:v.marker})}else{console.log("No results found")}}else{console.log("Geocode was not successful for the following reason: "+x)}})}if(u==0){r=v.marker_address}else{if(u==(l-1)){o=v.marker_address}else{n.push({location:v.marker_address,stopover:true})}}}});if(q.type_chortcode==="directions"){var m={origin:r,destination:o,waypoints:n,optimizeWaypoints:true,travelMode:google.maps.TravelMode.DRIVING};var k={polylineOptions:{strokeColor:q.color_route_line},suppressMarkers:true};p.route(m,function(v,u){if(u==google.maps.DirectionsStatus.OK){t.setDirections(v)}else{console.log("Directions request failed due to "+u)}});t.setMap(j);t.setOptions(k)}}function a(l,i,j){if(j.length){var k=new google.maps.InfoWindow({content:j});k.open(l,i)}}})(jQuery,window,document);