/*! lightgallery - v1.2.19 - 2016-05-17
* http://sachinchoolur.github.io/lightGallery/
* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
;!function(h,g,l,k){function j(a,c){if(this.el=a,this.$el=h(a),this.s=h.extend({},i,c),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw"When using dynamic mode, you must also define dynamicEl as an Array."}return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart" in l.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=h(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(h(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var i={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6000,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};j.prototype.init=function(){var b=this;b.s.preload>b.$items.length&&(b.s.preload=b.$items.length);var a=g.location.hash;a.indexOf("lg="+this.s.galleryId)>0&&(b.index=parseInt(a.split("&slide=")[1],10),h("body").addClass("lg-from-hash"),h("body").hasClass("lg-on")||setTimeout(function(){b.build(b.index),h("body").addClass("lg-on")})),b.s.dynamic?(b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||0,h("body").hasClass("lg-on")||setTimeout(function(){b.build(b.index),h("body").addClass("lg-on")})):b.$items.on("click.lgcustom",function(c){try{c.preventDefault(),c.preventDefault()}catch(e){c.returnValue=!1}b.$el.trigger("onBeforeOpen.lg"),b.index=b.s.index||b.$items.index(this),h("body").hasClass("lg-on")||(b.build(b.index),h("body").addClass("lg-on"))})},j.prototype.build=function(a){var d=this;d.structure(),h.each(h.fn.lightGallery.modules,function(c){d.modules[c]=new h.fn.lightGallery.modules[c](d.el)}),d.slide(a,!1,!1),d.s.keyPress&&d.keyPress(),d.$items.length>1&&(d.arrow(),setTimeout(function(){d.enableDrag(),d.enableSwipe()},50),d.s.mousewheel&&d.mousewheel()),d.counter(),d.closeGallery(),d.$el.trigger("onAfterOpen.lg"),d.$outer.on("mousemove.lg click.lg touchstart.lg",function(){d.$outer.removeClass("lg-hide-items"),clearTimeout(d.hideBartimeout),d.hideBartimeout=setTimeout(function(){d.$outer.addClass("lg-hide-items")},d.s.hideBarsDelay)})},j.prototype.structure=function(){var q,p="",o="",n=0,m="",b=this;for(h("body").append('<div class="lg-backdrop"></div>'),h(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),n=0;n<this.$items.length;n++){p+='<div class="lg-item"></div>'}if(this.s.controls&&this.$items.length>1&&(o='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(m='<div class="lg-sub-html"></div>'),q='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+p+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+o+m+"</div></div>",h("body").append(q),this.$outer=h(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),b.setTop(),h(g).on("resize.lg orientationchange.lg",function(){setTimeout(function(){b.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var a=this.$outer.find(".lg-inner");a.css("transition-timing-function",this.s.cssEasing),a.css("transition-duration",this.s.speed+"ms")}h(".lg-backdrop").addClass("in"),setTimeout(function(){b.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=h(g).scrollTop()},j.prototype.setTop=function(){if("100%"!==this.s.height){var f=h(g).height(),b=(f-parseInt(this.s.height,10))/2,a=this.$outer.find(".lg");f>=parseInt(this.s.height,10)?a.css("top",b+"px"):a.css("top","0px")}},j.prototype.doCss=function(){var b=function(){var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],c=l.documentElement,f=0;for(f=0;f<e.length;f++){if(e[f] in c.style){return !0}}};return !!b()},j.prototype.isVideo=function(n,m){var s;if(s=this.s.dynamic?this.s.dynamicEl[m].html:this.$items.eq(m).attr("data-html"),!n&&s){return{html5:!0}}var r=n.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),q=n.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),p=n.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),o=n.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return r?{youtube:r}:q?{vimeo:q}:p?{dailymotion:p}:o?{vk:o}:void 0},j.prototype.counter=function(){this.s.counter&&h(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},j.prototype.addHtml=function(a){var n,m=null;if(this.s.dynamic?this.s.dynamicEl[a].subHtmlUrl?n=this.s.dynamicEl[a].subHtmlUrl:m=this.s.dynamicEl[a].subHtml:this.$items.eq(a).attr("data-sub-html-url")?n=this.$items.eq(a).attr("data-sub-html-url"):(m=this.$items.eq(a).attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!m&&(m=this.$items.eq(a).attr("title")||this.$items.eq(a).find("img").first().attr("alt"))),!n){if("undefined"!=typeof m&&null!==m){var f=m.substring(0,1);"."!==f&&"#"!==f||(m=h(m).html())}else{m=""}}".lg-sub-html"===this.s.appendSubHtmlTo?n?this.$outer.find(this.s.appendSubHtmlTo).load(n):this.$outer.find(this.s.appendSubHtmlTo).html(m):n?this.$slide.eq(a).load(n):this.$slide.eq(a).append(m),"undefined"!=typeof m&&null!==m&&(""===m?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[a])},j.prototype.preload=function(e){var d=1,f=1;for(d=1;d<=this.s.preload&&!(d>=this.$items.length-e);d++){this.loadContent(e+d,!1,0)}for(f=1;f<=this.s.preload&&!(0>e-f);f++){this.loadContent(e-f,!1,0)}},j.prototype.loadContent=function(J,I,H){var G,F,E,D,C,B,A=this,z=!1,y=function(s){for(var r=[],q=[],p=0;p<s.length;p++){var o=s[p].split(" ");""===o[0]&&o.splice(0,1),q.push(o[0]),r.push(o[1])}for(var n=h(g).width(),m=0;m<r.length;m++){if(parseInt(r[m],10)>n){F=q[m];break}}};if(A.s.dynamic){if(A.s.dynamicEl[J].poster&&(z=!0,E=A.s.dynamicEl[J].poster),B=A.s.dynamicEl[J].html,F=A.s.dynamicEl[J].src,A.s.dynamicEl[J].responsive){var x=A.s.dynamicEl[J].responsive.split(",");y(x)}D=A.s.dynamicEl[J].srcset,C=A.s.dynamicEl[J].sizes}else{if(A.$items.eq(J).attr("data-poster")&&(z=!0,E=A.$items.eq(J).attr("data-poster")),B=A.$items.eq(J).attr("data-html"),F=A.$items.eq(J).attr("href")||A.$items.eq(J).attr("data-src"),A.$items.eq(J).attr("data-responsive")){var w=A.$items.eq(J).attr("data-responsive").split(",");y(w)}D=A.$items.eq(J).attr("data-srcset"),C=A.$items.eq(J).attr("data-sizes")}var v=!1;A.s.dynamic?A.s.dynamicEl[J].iframe&&(v=!0):"true"===A.$items.eq(J).attr("data-iframe")&&(v=!0);var u=A.isVideo(F,J);if(!A.$slide.eq(J).hasClass("lg-loaded")){if(v){A.$slide.eq(J).prepend('<div class="lg-video-cont" style="max-width:'+A.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+F+'"  allowfullscreen="true"></iframe></div></div>')}else{if(z){var b="";b=u&&u.youtube?"lg-has-youtube":u&&u.vimeo?"lg-has-vimeo":"lg-has-html5",A.$slide.eq(J).prepend('<div class="lg-video-cont '+b+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+E+'" /></div></div>')}else{u?(A.$slide.eq(J).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),A.$el.trigger("hasVideo.lg",[J,F,B])):A.$slide.eq(J).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+F+'" /></div>')}}if(A.$el.trigger("onAferAppendSlide.lg",[J]),G=A.$slide.eq(J).find(".lg-object"),C&&G.attr("sizes",C),D){G.attr("srcset",D);try{picturefill({elements:[G[0]]})}catch(a){console.error("Make sure you have included Picturefill version 2")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&A.addHtml(J),A.$slide.eq(J).addClass("lg-loaded")}A.$slide.eq(J).find(".lg-object").on("load.lg error.lg",function(){var c=0;H&&!h("body").hasClass("lg-from-hash")&&(c=H),setTimeout(function(){A.$slide.eq(J).addClass("lg-complete"),A.$el.trigger("onSlideItemLoad.lg",[J,H||0])},c)}),u&&u.html5&&!z&&A.$slide.eq(J).addClass("lg-complete"),I===!0&&(A.$slide.eq(J).hasClass("lg-complete")?A.preload(J):A.$slide.eq(J).find(".lg-object").on("load.lg error.lg",function(){A.preload(J)}))},j.prototype.slide=function(x,w,v){var u=this.$outer.find(".lg-current").index(),t=this;if(!t.lGalleryOn||u!==x){var s=this.$slide.length,r=t.lGalleryOn?this.s.speed:0,q=!1,p=!1;if(!t.lgBusy){if(this.s.download){var o;o=t.s.dynamic?t.s.dynamicEl[x].downloadUrl!==!1&&(t.s.dynamicEl[x].downloadUrl||t.s.dynamicEl[x].src):"false"!==t.$items.eq(x).attr("data-download-url")&&(t.$items.eq(x).attr("data-download-url")||t.$items.eq(x).attr("href")||t.$items.eq(x).attr("data-src")),o?(h("#lg-download").attr("href",o),t.$outer.removeClass("lg-hide-download")):t.$outer.addClass("lg-hide-download")}if(this.$el.trigger("onBeforeSlide.lg",[u,x,w,v]),t.lgBusy=!0,clearTimeout(t.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){t.addHtml(x)},r),this.arrowDisable(x),w){var n=x-1,a=x+1;0===x&&u===s-1?(a=0,n=s-1):x===s-1&&0===u&&(a=0,n=s-1),this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),t.$slide.eq(n).addClass("lg-prev-slide"),t.$slide.eq(a).addClass("lg-next-slide"),t.$slide.eq(x).addClass("lg-current")}else{t.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),u>x?(p=!0,0!==x||u!==s-1||v||(p=!1,q=!0)):x>u&&(q=!0,x!==s-1||0!==u||v||(p=!0,q=!1)),p?(this.$slide.eq(x).addClass("lg-prev-slide"),this.$slide.eq(u).addClass("lg-next-slide")):q&&(this.$slide.eq(x).addClass("lg-next-slide"),this.$slide.eq(u).addClass("lg-prev-slide")),setTimeout(function(){t.$slide.removeClass("lg-current"),t.$slide.eq(x).addClass("lg-current"),t.$outer.removeClass("lg-no-trans")},50)}t.lGalleryOn?(setTimeout(function(){t.loadContent(x,!0,0)},this.s.speed+50),setTimeout(function(){t.lgBusy=!1,t.$el.trigger("onAfterSlide.lg",[u,x,w,v])},this.s.speed)):(t.loadContent(x,!0,t.s.backdropDuration),t.lgBusy=!1,t.$el.trigger("onAfterSlide.lg",[u,x,w,v])),t.lGalleryOn=!0,this.s.counter&&h("#lg-counter-current").text(x+1)}}},j.prototype.goToNextSlide=function(d){var c=this;c.lgBusy||(c.index+1<c.$slide.length?(c.index++,c.$el.trigger("onBeforeNextSlide.lg",[c.index]),c.slide(c.index,d,!1)):c.s.loop?(c.index=0,c.$el.trigger("onBeforeNextSlide.lg",[c.index]),c.slide(c.index,d,!1)):c.s.slideEndAnimatoin&&(c.$outer.addClass("lg-right-end"),setTimeout(function(){c.$outer.removeClass("lg-right-end")},400)))},j.prototype.goToPrevSlide=function(d){var c=this;c.lgBusy||(c.index>0?(c.index--,c.$el.trigger("onBeforePrevSlide.lg",[c.index,d]),c.slide(c.index,d,!1)):c.s.loop?(c.index=c.$items.length-1,c.$el.trigger("onBeforePrevSlide.lg",[c.index,d]),c.slide(c.index,d,!1)):c.s.slideEndAnimatoin&&(c.$outer.addClass("lg-left-end"),setTimeout(function(){c.$outer.removeClass("lg-left-end")},400)))},j.prototype.keyPress=function(){var a=this;this.$items.length>1&&h(g).on("keyup.lg",function(b){a.$items.length>1&&(37===b.keyCode&&(b.preventDefault(),a.goToPrevSlide()),39===b.keyCode&&(b.preventDefault(),a.goToNextSlide()))}),h(g).on("keydown.lg",function(b){a.s.escKey===!0&&27===b.keyCode&&(b.preventDefault(),a.$outer.hasClass("lg-thumb-open")?a.$outer.removeClass("lg-thumb-open"):a.destroy())})},j.prototype.arrow=function(){var b=this;this.$outer.find(".lg-prev").on("click.lg",function(){b.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){b.goToNextSlide()})},j.prototype.arrowDisable=function(b){!this.s.loop&&this.s.hideControlOnEnd&&(b+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),b>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},j.prototype.setTranslate=function(e,d,f){this.s.useLeft?e.css("left",d):e.css({transform:"translate3d("+d+"px, "+f+"px, 0px)"})},j.prototype.touchMove=function(a,f){var e=f-a;Math.abs(e)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),e,0),this.setTranslate(h(".lg-prev-slide"),-this.$slide.eq(this.index).width()+e,0),this.setTranslate(h(".lg-next-slide"),this.$slide.eq(this.index).width()+e,0))},j.prototype.touchEnd=function(d){var c=this;"lg-slide"!==c.s.mode&&c.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){c.$outer.removeClass("lg-dragging"),0>d&&Math.abs(d)>c.s.swipeThreshold?c.goToNextSlide(!0):d>0&&Math.abs(d)>c.s.swipeThreshold?c.goToPrevSlide(!0):Math.abs(d)<5&&c.$el.trigger("onSlideClick.lg"),c.$slide.removeAttr("style")}),setTimeout(function(){c.$outer.hasClass("lg-dragging")||"lg-slide"===c.s.mode||c.$outer.removeClass("lg-slide")},c.s.speed+100)},j.prototype.enableSwipe=function(){var f=this,e=0,n=0,m=!1;f.s.enableSwipe&&f.isTouch&&f.doCss()&&(f.$slide.on("touchstart.lg",function(a){f.$outer.hasClass("lg-zoomed")||f.lgBusy||(a.preventDefault(),f.manageSwipeClass(),e=a.originalEvent.targetTouches[0].pageX)}),f.$slide.on("touchmove.lg",function(a){f.$outer.hasClass("lg-zoomed")||(a.preventDefault(),n=a.originalEvent.targetTouches[0].pageX,f.touchMove(e,n),m=!0)}),f.$slide.on("touchend.lg",function(){f.$outer.hasClass("lg-zoomed")||(m?(m=!1,f.touchEnd(n-e)):f.$el.trigger("onSlideClick.lg"))}))},j.prototype.enableDrag=function(){var o=this,n=0,m=0,b=!1,a=!1;o.s.enableDrag&&!o.isTouch&&o.doCss()&&(o.$slide.on("mousedown.lg",function(c){o.$outer.hasClass("lg-zoomed")||(h(c.target).hasClass("lg-object")||h(c.target).hasClass("lg-video-play"))&&(c.preventDefault(),o.lgBusy||(o.manageSwipeClass(),n=c.pageX,b=!0,o.$outer.scrollLeft+=1,o.$outer.scrollLeft-=1,o.$outer.removeClass("lg-grab").addClass("lg-grabbing"),o.$el.trigger("onDragstart.lg")))}),h(g).on("mousemove.lg",function(c){b&&(a=!0,m=c.pageX,o.touchMove(n,m),o.$el.trigger("onDragmove.lg"))}),h(g).on("mouseup.lg",function(c){a?(a=!1,o.touchEnd(m-n),o.$el.trigger("onDragend.lg")):(h(c.target).hasClass("lg-object")||h(c.target).hasClass("lg-video-play"))&&o.$el.trigger("onSlideClick.lg"),b&&(b=!1,o.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},j.prototype.manageSwipeClass=function(){var e=this.index+1,d=this.index-1,f=this.$slide.length;this.s.loop&&(0===this.index?d=f-1:this.index===f-1&&(e=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),d>-1&&this.$slide.eq(d).addClass("lg-prev-slide"),this.$slide.eq(e).addClass("lg-next-slide")},j.prototype.mousewheel=function(){var b=this;b.$outer.on("mousewheel.lg",function(a){a.deltaY&&(a.deltaY>0?b.goToPrevSlide():b.goToNextSlide(),a.preventDefault())})},j.prototype.closeGallery=function(){var a=this,d=!1;this.$outer.find(".lg-close").on("click.lg",function(){a.destroy(),$("body").removeClass("overflow-full")}),a.s.closable&&(a.$outer.on("mousedown.lg",function(c){d=!!(h(c.target).is(".lg-outer")||h(c.target).is(".lg-item ")||h(c.target).is(".lg-img-wrap"))}),a.$outer.on("mouseup.lg",function(b){(h(b.target).is(".lg-outer")||h(b.target).is(".lg-item ")||h(b.target).is(".lg-img-wrap")&&d)&&(a.$outer.hasClass("lg-dragging")||a.destroy())}))},j.prototype.destroy=function(b){var a=this;b||a.$el.trigger("onBeforeClose.lg"),h(g).scrollTop(a.prevScrollTop),b&&(a.s.dynamic||this.$items.off("click.lg click.lgcustom"),h.removeData(a.el,"lightGallery")),this.$el.off(".lg.tm"),h.each(h.fn.lightGallery.modules,function(c){a.modules[c]&&a.modules[c].destroy()}),this.lGalleryOn=!1,clearTimeout(a.hideBartimeout),this.hideBartimeout=!1,h(g).off(".lg"),h("body").removeClass("lg-on lg-from-hash"),a.$outer&&a.$outer.removeClass("lg-visible"),h(".lg-backdrop").removeClass("in"),setTimeout(function(){a.$outer&&a.$outer.remove(),h(".lg-backdrop").remove(),b||a.$el.trigger("onCloseAfter.lg")},a.s.backdropDuration+50)},h.fn.lightGallery=function(a){return this.each(function(){if(h.data(this,"lightGallery")){try{h(this).data("lightGallery").init()}catch(b){console.error("lightGallery has not initiated properly")}}else{h.data(this,"lightGallery",new j(this,a))}})},h.fn.lightGallery.modules={}}(jQuery,window,document);!function(h,g,l,k){var j={fullScreen:!0},i=function(a){return this.core=h(a).data("lightGallery"),this.$el=h(a),this.core.s=h.extend({},j,this.core.s),this.init(),this};i.prototype.init=function(){var b="";if(this.core.s.fullScreen){if(!(l.fullscreenEnabled||l.webkitFullscreenEnabled||l.mozFullScreenEnabled||l.msFullscreenEnabled)){return}b='<span class="lg-fullscreen lg-icon"></span>',this.core.$outer.find(".lg-toolbar").append(b),this.fullScreen()}},i.prototype.requestFullscreen=function(){var b=l.documentElement;b.requestFullscreen?b.requestFullscreen():b.msRequestFullscreen?b.msRequestFullscreen():b.mozRequestFullScreen?b.mozRequestFullScreen():b.webkitRequestFullscreen&&b.webkitRequestFullscreen()},i.prototype.exitFullscreen=function(){l.exitFullscreen?l.exitFullscreen():l.msExitFullscreen?l.msExitFullscreen():l.mozCancelFullScreen?l.mozCancelFullScreen():l.webkitExitFullscreen&&l.webkitExitFullscreen()},i.prototype.fullScreen=function(){var a=this;h(l).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){a.core.$outer.toggleClass("lg-fullscreen-on")}),this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){l.fullscreenElement||l.mozFullScreenElement||l.webkitFullscreenElement||l.msFullscreenElement?a.exitFullscreen():a.requestFullscreen()})},i.prototype.destroy=function(){this.exitFullscreen(),h(l).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},h.fn.lightGallery.modules.fullscreen=i}(jQuery,window,document);!function(h,g,l,k){var j={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300},i=function(a){return this.core=h(a).data("lightGallery"),this.core.s=h.extend({},j,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=h(g).width()/2,this.pageY=h(g).height()/2+h(g).scrollTop()),this};i.prototype.init=function(){var q=this,p='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';q.core.s.actualSize&&(p+='<span id="lg-actual-size" class="lg-icon"></span>'),this.core.$outer.find(".lg-toolbar").append(p),q.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(c,t,s){var r=q.core.s.enableZoomAfter+s;h("body").hasClass("lg-from-hash")&&s?r=0:h("body").removeClass("lg-from-hash"),q.zoomabletimeout=setTimeout(function(){q.core.$slide.eq(t).addClass("lg-zoomable")},r+30)});var o=1,n=function(x){var w,v,u=q.core.$outer.find(".lg-current .lg-image"),t=(h(g).width()-u.width())/2,s=(h(g).height()-u.height())/2+h(g).scrollTop();w=q.pageX-t,v=q.pageY-s;var r=(x-1)*w,c=(x-1)*v;u.css("transform","scale3d("+x+", "+x+", 1)").attr("data-scale",x),u.parent().css({left:-r+"px",top:-c+"px"}).attr("data-x",r).attr("data-y",c)},m=function(){o>1?q.core.$outer.addClass("lg-zoomed"):q.resetZoom(),1>o&&(o=1),n(o)},b=function(v,u,t,s){var r,e=u.width();r=q.core.s.dynamic?q.core.s.dynamicEl[t].width||u[0].naturalWidth||e:q.core.$items.eq(t).attr("data-width")||u[0].naturalWidth||e;var c;q.core.$outer.hasClass("lg-zoomed")?o=1:r>e&&(c=r/e,o=c||2),s?(q.pageX=h(g).width()/2,q.pageY=h(g).height()/2+h(g).scrollTop()):(q.pageX=v.pageX||v.originalEvent.targetTouches[0].pageX,q.pageY=v.pageY||v.originalEvent.targetTouches[0].pageY),m(),setTimeout(function(){q.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},a=!1;q.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(e,c){var f=q.core.$slide.eq(c).find(".lg-image");f.on("dblclick",function(d){b(d,f,c)}),f.on("touchstart",function(d){a?(clearTimeout(a),a=null,b(d,f,c)):a=setTimeout(function(){a=null},300),d.preventDefault()})}),h(g).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){q.pageX=h(g).width()/2,q.pageY=h(g).height()/2+h(g).scrollTop(),n(o)}),h("#lg-zoom-out").on("click.lg",function(){q.core.$outer.find(".lg-current .lg-image").length&&(o-=q.core.s.scale,m())}),h("#lg-zoom-in").on("click.lg",function(){q.core.$outer.find(".lg-current .lg-image").length&&(o+=q.core.s.scale,m())}),h("#lg-actual-size").on("click.lg",function(c){b(c,q.core.$slide.eq(q.core.index).find(".lg-image"),q.core.index,!0)}),q.core.$el.on("onBeforeSlide.lg.tm",function(){o=1,q.resetZoom()}),q.core.isTouch||q.zoomDrag(),q.core.isTouch&&q.zoomSwipe()},i.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=h(g).width()/2,this.pageY=h(g).height()/2+h(g).scrollTop()},i.prototype.zoomSwipe=function(){var n=this,m={},r={},q=!1,p=!1,o=!1;n.core.$slide.on("touchstart.lg",function(b){if(n.core.$outer.hasClass("lg-zoomed")){var a=n.core.$slide.eq(n.core.index).find(".lg-object");o=a.outerHeight()*a.attr("data-scale")>n.core.$outer.find(".lg").height(),p=a.outerWidth()*a.attr("data-scale")>n.core.$outer.find(".lg").width(),(p||o)&&(b.preventDefault(),m={x:b.originalEvent.targetTouches[0].pageX,y:b.originalEvent.targetTouches[0].pageY})}}),n.core.$slide.on("touchmove.lg",function(d){if(n.core.$outer.hasClass("lg-zoomed")){var c,b,a=n.core.$slide.eq(n.core.index).find(".lg-img-wrap");d.preventDefault(),q=!0,r={x:d.originalEvent.targetTouches[0].pageX,y:d.originalEvent.targetTouches[0].pageY},n.core.$outer.addClass("lg-zoom-dragging"),b=o?-Math.abs(a.attr("data-y"))+(r.y-m.y):-Math.abs(a.attr("data-y")),c=p?-Math.abs(a.attr("data-x"))+(r.x-m.x):-Math.abs(a.attr("data-x")),(Math.abs(r.x-m.x)>15||Math.abs(r.y-m.y)>15)&&a.css({left:c+"px",top:b+"px"})}}),n.core.$slide.on("touchend.lg",function(){n.core.$outer.hasClass("lg-zoomed")&&q&&(q=!1,n.core.$outer.removeClass("lg-zoom-dragging"),n.touchendZoom(m,r,p,o))})},i.prototype.zoomDrag=function(){var q=this,p={},o={},n=!1,m=!1,b=!1,a=!1;q.core.$slide.on("mousedown.lg.zoom",function(c){var d=q.core.$slide.eq(q.core.index).find(".lg-object");a=d.outerHeight()*d.attr("data-scale")>q.core.$outer.find(".lg").height(),b=d.outerWidth()*d.attr("data-scale")>q.core.$outer.find(".lg").width(),q.core.$outer.hasClass("lg-zoomed")&&h(c.target).hasClass("lg-object")&&(b||a)&&(c.preventDefault(),p={x:c.pageX,y:c.pageY},n=!0,q.core.$outer.scrollLeft+=1,q.core.$outer.scrollLeft-=1,q.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))}),h(g).on("mousemove.lg.zoom",function(d){if(n){var c,f,e=q.core.$slide.eq(q.core.index).find(".lg-img-wrap");m=!0,o={x:d.pageX,y:d.pageY},q.core.$outer.addClass("lg-zoom-dragging"),f=a?-Math.abs(e.attr("data-y"))+(o.y-p.y):-Math.abs(e.attr("data-y")),c=b?-Math.abs(e.attr("data-x"))+(o.x-p.x):-Math.abs(e.attr("data-x")),e.css({left:c+"px",top:f+"px"})}}),h(g).on("mouseup.lg.zoom",function(c){n&&(n=!1,q.core.$outer.removeClass("lg-zoom-dragging"),!m||p.x===o.x&&p.y===o.y||(o={x:c.pageX,y:c.pageY},q.touchendZoom(p,o,b,a)),m=!1),q.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})},i.prototype.touchendZoom=function(z,y,x,w){var v=this,u=v.core.$slide.eq(v.core.index).find(".lg-img-wrap"),t=v.core.$slide.eq(v.core.index).find(".lg-object"),s=-Math.abs(u.attr("data-x"))+(y.x-z.x),r=-Math.abs(u.attr("data-y"))+(y.y-z.y),q=(v.core.$outer.find(".lg").height()-t.outerHeight())/2,p=Math.abs(t.outerHeight()*Math.abs(t.attr("data-scale"))-v.core.$outer.find(".lg").height()+q),o=(v.core.$outer.find(".lg").width()-t.outerWidth())/2,n=Math.abs(t.outerWidth()*Math.abs(t.attr("data-scale"))-v.core.$outer.find(".lg").width()+o);(Math.abs(y.x-z.x)>15||Math.abs(y.y-z.y)>15)&&(w&&(-p>=r?r=-p:r>=-q&&(r=-q)),x&&(-n>=s?s=-n:s>=-o&&(s=-o)),w?u.attr("data-y",Math.abs(r)):r=-Math.abs(u.attr("data-y")),x?u.attr("data-x",Math.abs(s)):s=-Math.abs(u.attr("data-x")),u.css({left:s+"px",top:r+"px"}))},i.prototype.destroy=function(){var a=this;a.core.$el.off(".lg.zoom"),h(g).off(".lg.zoom"),a.core.$slide.off(".lg.zoom"),a.core.$el.off(".lg.tm.zoom"),a.resetZoom(),clearTimeout(a.zoomabletimeout),a.zoomabletimeout=!1},h.fn.lightGallery.modules.zoom=i}(jQuery,window,document);