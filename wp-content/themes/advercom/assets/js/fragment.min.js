function extend(d,c){for(var e in c){if(c.hasOwnProperty(e)){d[e]=c[e]}}return d}function debounce(b,d,a){var c;return function(){var h=this,g=arguments;var f=function(){c=null;if(!a){b.apply(h,g)}};var e=a&&!c;clearTimeout(c);c=setTimeout(f,d);if(e){b.apply(h,g)}}}function areClipPathShapesSupported(){var a="clipPath",f=["webkit","moz","ms","o"],h=[a],b=document.createElement("testelement"),c="polygon(50% 0%, 0% 100%, 100% 100%)";for(var g=0,e=f.length;g<e;g++){var d=f[g]+a.charAt(0).toUpperCase()+a.slice(1);h.push(d)}for(var g=0,e=h.length;g<e;g++){var j=h[g];if(b.style[j]===""){b.style[j]=c;if(b.style[j]!==""){return true}}}return false}function getMousePos(b){var a=0,c=0;if(!b){var b=window.event}if(b.pageX||b.pageY){a=b.pageX;c=b.pageY}else{if(b.clientX||b.clientY){a=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;c=b.clientY+document.body.scrollTop+document.documentElement.scrollTop}}return{x:a,y:c}}function getRandom(b,a){return Math.random()*(a-b+1)+b}const isClipPathSupported=areClipPathShapesSupported();function FragmentsFx(c,b){this.el=c;this.options=extend({},this.options);extend(this.options,b);var a=this;imagesLoaded(this.el,{background:true},function(){a._init()})}FragmentsFx.prototype.options={fragments:25,boundaries:{x1:100,x2:100,y1:50,y2:50},area:"random",randomIntervals:{top:{min:0,max:90},left:{min:0,max:90},dimension:{width:{min:10,max:60,fixedHeight:1.1},height:{min:10,max:60,fixedWidth:1.1}}},parallax:false,randomParallax:{min:10,max:150}};FragmentsFx.prototype._init=function(){this.dimensions={width:this.el.offsetWidth,height:this.el.offsetHeight};this.imgsrc=this.el.style.backgroundImage.replace("url(","").replace(")","").replace(/\"/gi,"");this._layout();this._initEvents()};FragmentsFx.prototype._initEvents=function(){const a=this;if(this.options.parallax){this.mousemoveFn=function(b){requestAnimationFrame(function(){const l=getMousePos(b),k={left:document.body.scrollLeft+document.documentElement.scrollLeft,top:document.body.scrollTop+document.documentElement.scrollTop},c=a.el.getBoundingClientRect(),d={x:l.x-c.left-k.left,y:l.y-c.top-k.top};for(var g=0,h=a.fragments.length;g<=h-1;++g){const j=a.fragments[g],m=j.getAttribute("data-parallax"),f=m/(a.dimensions.width)*d.x-m/2,e=m/(a.dimensions.height)*d.y-m/2;j.style.transform=j.style.WebkitTransform="translate3d("+f+"px,"+e+"px,0)"}})};this.el.addEventListener("mousemove",this.mousemoveFn);this.mouseleaveFn=function(b){requestAnimationFrame(function(){for(var e=0,c=a.fragments.length;e<=c-1;++e){const d=a.fragments[e];d.style.transform=d.style.WebkitTransform="translate3d(0,0,0)"}})};this.el.addEventListener("mouseleave",this.mouseleaveFn)}this.debounceResize=debounce(function(e){const d=a.options.area.length;a.dimensions={width:a.el.offsetWidth,height:a.el.offsetHeight};for(var c=0,b=a.fragments.length;c<=b-1;++c){a._positionFragment(c,a.fragments[c].querySelector(".fragment__piece"))}},10);window.addEventListener("resize",this.debounceResize)};FragmentsFx.prototype._layout=function(){this.fragments=[];for(var c=0,a=this.options.fragments;c<a;++c){const b=this._createFragment(c);this.fragments.push(b)}};FragmentsFx.prototype._createFragment=function(c){var a=document.createElement("div");a.className="fragment";if(this.options.parallax){a.setAttribute("data-parallax",getRandom(this.options.randomParallax.min,this.options.randomParallax.max))}var b=document.createElement("div");b.style.backgroundImage="url("+this.imgsrc+")";b.className="fragment__piece";b.style.backgroundImage="url("+this.imgsrc+")";this._positionFragment(c,b);a.appendChild(b);this.el.appendChild(a);return a};FragmentsFx.prototype._positionFragment=function(h,m){const j=this.options.area==="random",e=this.options.area[h],i=j?getRandom(this.options.randomIntervals.top.min,this.options.randomIntervals.top.max):e.top,c=j?getRandom(this.options.randomIntervals.left.min,this.options.randomIntervals.left.max):e.left;var b,l;if(j){if(!!Math.round(getRandom(0,1))){b=getRandom(this.options.randomIntervals.dimension.width.min,this.options.randomIntervals.dimension.width.max);l=getRandom(Math.max(this.options.randomIntervals.dimension.width.fixedHeight-0.1,0.1),this.options.randomIntervals.dimension.width.fixedHeight+0.1)}else{l=getRandom(this.options.randomIntervals.dimension.width.min,this.options.randomIntervals.dimension.width.max);b=getRandom(Math.max(this.options.randomIntervals.dimension.height.fixedWidth-0.1,0.1),this.options.randomIntervals.dimension.height.fixedWidth+0.1)}}else{b=e.width;l=e.height}if(!isClipPathSupported){const d=i/100*this.dimensions.height,k=c/100*this.dimensions.width,g=b/100*this.dimensions.width+k,f=l/100*this.dimensions.height+d;m.style.clip="rect("+d+"px,"+g+"px,"+f+"px,"+k+"px)"}else{m.style.WebkitClipPath=m.style.clipPath="polygon("+c+"% "+i+"%, "+(c+b)+"% "+i+"%, "+(c+b)+"% "+(i+l)+"%, "+c+"% "+(i+l)+"%)"}const a={x:getRandom(-1*c/100*this.dimensions.width-this.options.boundaries.x1,this.dimensions.width-c/100*this.dimensions.width+this.options.boundaries.x2-b/100*this.dimensions.width),y:getRandom(-1*i/100*this.dimensions.height-this.options.boundaries.y1,this.dimensions.height-i/100*this.dimensions.height+this.options.boundaries.y2-l/100*this.dimensions.height)};m.style.WebkitTransform=m.style.transform="translate3d("+a.x+"px,"+a.y+"px,0)"};window.FragmentsFx=FragmentsFx;