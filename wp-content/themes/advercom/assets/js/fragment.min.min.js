function extend(b,f){for(var a in f){if(f.hasOwnProperty(a)){b[a]=f[a]}}return b}function debounce(e,g,f){var h;return function(){var a=this,b=arguments;var c=function(){h=null;if(!f){e.apply(a,b)}};var d=f&&!h;clearTimeout(h);h=setTimeout(c,g);if(d){e.apply(a,b)}}}function areClipPathShapesSupported(){var r="clipPath",m=["webkit","moz","ms","o"],k=[r],q=document.createElement("testelement"),p="polygon(50% 0%, 0% 100%, 100% 100%)";for(var l=0,n=m.length;l<n;l++){var o=m[l]+r.charAt(0).toUpperCase()+r.slice(1);k.push(o)}for(var l=0,n=k.length;l<n;l++){var i=k[l];if(q.style[i]===""){q.style[i]=p;if(q.style[i]!==""){return true}}}return false}function getMousePos(d){var e=0,f=0;if(!d){var d=window.event}if(d.pageX||d.pageY){e=d.pageX;f=d.pageY}else{if(d.clientX||d.clientY){e=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;f=d.clientY+document.body.scrollTop+document.documentElement.scrollTop}}return{x:e,y:f}}function getRandom(c,d){return Math.random()*(d-c+1)+c}const isClipPathSupported=areClipPathShapesSupported();function FragmentsFx(f,d){this.el=f;this.options=extend({},this.options);extend(this.options,d);var e=this;imagesLoaded(this.el,{background:true},function(){e._init()})}FragmentsFx.prototype.options={fragments:25,boundaries:{x1:100,x2:100,y1:50,y2:50},area:"random",randomIntervals:{top:{min:0,max:90},left:{min:0,max:90},dimension:{width:{min:10,max:60,fixedHeight:1.1},height:{min:10,max:60,fixedWidth:1.1}}},parallax:false,randomParallax:{min:10,max:150}};FragmentsFx.prototype._init=function(){this.dimensions={width:this.el.offsetWidth,height:this.el.offsetHeight};this.imgsrc=this.el.style.backgroundImage.replace("url(","").replace(")","").replace(/\"/gi,"");this._layout();this._initEvents()};FragmentsFx.prototype._initEvents=function(){const b=this;if(this.options.parallax){this.mousemoveFn=function(a){requestAnimationFrame(function(){const n=getMousePos(a),o={left:document.body.scrollLeft+document.documentElement.scrollLeft,top:document.body.scrollTop+document.documentElement.scrollTop},v=b.el.getBoundingClientRect(),u={x:n.x-v.left-o.left,y:n.y-v.top-o.top};for(var r=0,q=b.fragments.length;r<=q-1;++r){const p=b.fragments[r],i=p.getAttribute("data-parallax"),s=i/(b.dimensions.width)*u.x-i/2,t=i/(b.dimensions.height)*u.y-i/2;p.style.transform=p.style.WebkitTransform="translate3d("+s+"px,"+t+"px,0)"}})};this.el.addEventListener("mousemove",this.mousemoveFn);this.mouseleaveFn=function(a){requestAnimationFrame(function(){for(var f=0,h=b.fragments.length;f<=h-1;++f){const g=b.fragments[f];g.style.transform=g.style.WebkitTransform="translate3d(0,0,0)"}})};this.el.addEventListener("mouseleave",this.mouseleaveFn)}this.debounceResize=debounce(function(f){const g=b.options.area.length;b.dimensions={width:b.el.offsetWidth,height:b.el.offsetHeight};for(var h=0,a=b.fragments.length;h<=a-1;++h){b._positionFragment(h,b.fragments[h].querySelector(".fragment__piece"))}},10);window.addEventListener("resize",this.debounceResize)};FragmentsFx.prototype._layout=function(){this.fragments=[];for(var f=0,e=this.options.fragments;f<e;++f){const d=this._createFragment(f);this.fragments.push(d)}};FragmentsFx.prototype._createFragment=function(f){var e=document.createElement("div");e.className="fragment";if(this.options.parallax){e.setAttribute("data-parallax",getRandom(this.options.randomParallax.min,this.options.randomParallax.max))}var d=document.createElement("div");d.style.backgroundImage="url("+this.imgsrc+")";d.className="fragment__piece";d.style.backgroundImage="url("+this.imgsrc+")";this._positionFragment(f,d);e.appendChild(d);this.el.appendChild(e);return e};FragmentsFx.prototype._positionFragment=function(s,n){const q=this.options.area==="random",v=this.options.area[s],r=q?getRandom(this.options.randomIntervals.top.min,this.options.randomIntervals.top.max):v.top,x=q?getRandom(this.options.randomIntervals.left.min,this.options.randomIntervals.left.max):v.left;var y,o;if(q){if(!!Math.round(getRandom(0,1))){y=getRandom(this.options.randomIntervals.dimension.width.min,this.options.randomIntervals.dimension.width.max);o=getRandom(Math.max(this.options.randomIntervals.dimension.width.fixedHeight-0.1,0.1),this.options.randomIntervals.dimension.width.fixedHeight+0.1)}else{o=getRandom(this.options.randomIntervals.dimension.width.min,this.options.randomIntervals.dimension.width.max);y=getRandom(Math.max(this.options.randomIntervals.dimension.height.fixedWidth-0.1,0.1),this.options.randomIntervals.dimension.height.fixedWidth+0.1)}}else{y=v.width;o=v.height}if(!isClipPathSupported){const w=r/100*this.dimensions.height,p=x/100*this.dimensions.width,t=y/100*this.dimensions.width+p,u=o/100*this.dimensions.height+w;n.style.clip="rect("+w+"px,"+t+"px,"+u+"px,"+p+"px)"}else{n.style.WebkitClipPath=n.style.clipPath="polygon("+x+"% "+r+"%, "+(x+y)+"% "+r+"%, "+(x+y)+"% "+(r+o)+"%, "+x+"% "+(r+o)+"%)"}const z={x:getRandom(-1*x/100*this.dimensions.width-this.options.boundaries.x1,this.dimensions.width-x/100*this.dimensions.width+this.options.boundaries.x2-y/100*this.dimensions.width),y:getRandom(-1*r/100*this.dimensions.height-this.options.boundaries.y1,this.dimensions.height-r/100*this.dimensions.height+this.options.boundaries.y2-o/100*this.dimensions.height)};n.style.WebkitTransform=n.style.transform="translate3d("+z.x+"px,"+z.y+"px,0)"};window.FragmentsFx=FragmentsFx;