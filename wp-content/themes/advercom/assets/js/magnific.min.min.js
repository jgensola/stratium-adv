/*! Magnific Popup - v1.0.0 - 2015-01-03
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2015 Dmitry Semenov; */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(E){var F,G,H,I,J,K,L="Close",M="BeforeClose",N="AfterClose",O="BeforeAppend",P="MarkupParse",Q="Open",R="Change",S="mfp",T="."+S,U="mfp-ready",c="mfp-removing",e="mfp-prevent-close",g=function(){},i=!!window.jQuery,j=E(window),k=function(V,W){F.ev.on(S+V+T,W)},l=function(V,W,X,Y){var Z=document.createElement("div");return Z.className="mfp-"+V,X&&(Z.innerHTML=X),Y?W&&W.appendChild(Z):(Z=E(Z),W&&Z.appendTo(W)),Z},m=function(V,W){F.ev.triggerHandler(S+V,W),F.st.callbacks&&(V=V.charAt(0).toLowerCase()+V.slice(1),F.st.callbacks[V]&&F.st.callbacks[V].apply(F,E.isArray(W)?W:[W]))},n=function(V){return V===K&&F.currTemplate.closeBtn||(F.currTemplate.closeBtn=E(F.st.closeMarkup.replace("%title%",F.st.tClose)),K=V),F.currTemplate.closeBtn},o=function(){E.magnificPopup.instance||(F=new g,F.init(),E.magnificPopup.instance=F)},p=function(){var V=document.createElement("p").style,W=["ms","O","Moz","Webkit"];if(void 0!==V.transition){return !0}for(;W.length;){if(W.pop()+"Transition" in V){return !0}}return !1};g.prototype={constructor:g,init:function(){var V=navigator.appVersion;F.isIE7=-1!==V.indexOf("MSIE 7."),F.isIE8=-1!==V.indexOf("MSIE 8."),F.isLowIE=F.isIE7||F.isIE8,F.isAndroid=/android/gi.test(V),F.isIOS=/iphone|ipad|ipod/gi.test(V),F.supportsTransition=p(),F.probablyMobile=F.isAndroid||F.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),H=E(document),F.popupsCache={}},open:function(ad){var ae;if(ad.isObj===!1){F.items=ad.items.toArray(),F.index=0;var V,W=ad.items;for(ae=0;ae<W.length;ae++){if(V=W[ae],V.parsed&&(V=V.el[0]),V===ad.el[0]){F.index=ae;break}}}else{F.items=E.isArray(ad.items)?ad.items:[ad.items],F.index=ad.index||0}if(F.isOpen){return void F.updateItemHTML()}F.types=[],J="",F.ev=ad.mainEl&&ad.mainEl.length?ad.mainEl.eq(0):H,ad.key?(F.popupsCache[ad.key]||(F.popupsCache[ad.key]={}),F.currTemplate=F.popupsCache[ad.key]):F.currTemplate={},F.st=E.extend(!0,{},E.magnificPopup.defaults,ad),F.fixedContentPos="auto"===F.st.fixedContentPos?!F.probablyMobile:F.st.fixedContentPos,F.st.modal&&(F.st.closeOnContentClick=!1,F.st.closeOnBgClick=!1,F.st.showCloseBtn=!1,F.st.enableEscapeKey=!1),F.bgOverlay||(F.bgOverlay=l("bg").on("click"+T,function(){F.close()}),F.wrap=l("wrap").attr("tabindex",-1).on("click"+T,function(af){F._checkIfClose(af.target)&&F.close()}),F.container=l("container",F.wrap)),F.contentContainer=l("content"),F.st.preloader&&(F.preloader=l("preloader",F.container,F.st.tLoading));var X=E.magnificPopup.modules;for(ae=0;ae<X.length;ae++){var Y=X[ae];Y=Y.charAt(0).toUpperCase()+Y.slice(1),F["init"+Y].call(F)}m("BeforeOpen"),F.st.showCloseBtn&&(F.st.closeBtnInside?(k(P,function(ah,ai,af,ag){af.close_replaceWith=n(ag.type)}),J+=" mfp-close-btn-in"):F.wrap.append(n())),F.st.alignTop&&(J+=" mfp-align-top"),F.wrap.css(F.fixedContentPos?{overflow:F.st.overflowY,overflowX:"hidden",overflowY:F.st.overflowY}:{top:j.scrollTop(),position:"absolute"}),(F.st.fixedBgPos===!1||"auto"===F.st.fixedBgPos&&!F.fixedContentPos)&&F.bgOverlay.css({height:H.height(),position:"absolute"}),F.st.enableEscapeKey&&H.on("keyup"+T,function(af){27===af.keyCode&&F.close()}),j.on("resize"+T,function(){F.updateSize()}),F.st.closeOnContentClick||(J+=" mfp-auto-cursor"),J&&F.wrap.addClass(J);var Z=F.wH=j.height(),aa={};if(F.fixedContentPos&&F._hasScrollBar(Z)){var ab=F._getScrollbarSize();ab&&(aa.marginRight=ab)}F.fixedContentPos&&(F.isIE7?E("body, html").css("overflow","hidden"):aa.overflow="hidden");var ac=F.st.mainClass;return F.isIE7&&(ac+=" mfp-ie7"),ac&&F._addClassToMFP(ac),F.updateItemHTML(),m("BuildControls"),E("html").css(aa),F.bgOverlay.add(F.wrap).prependTo(F.st.prependTo||E(document.body)),F._lastFocusedEl=document.activeElement,setTimeout(function(){F.content?(F._addClassToMFP(U),F._setFocus()):F.bgOverlay.addClass(U),H.on("focusin"+T,F._onFocusIn)},16),F.isOpen=!0,F.updateSize(Z),m(Q),ad},close:function(){F.isOpen&&(m(M),F.isOpen=!1,F.st.removalDelay&&!F.isLowIE&&F.supportsTransition?(F._addClassToMFP(c),setTimeout(function(){F._close()},F.st.removalDelay)):F._close())},_close:function(){m(L);var V=c+" "+U+" ";if(F.bgOverlay.detach(),F.wrap.detach(),F.container.empty(),F.st.mainClass&&(V+=F.st.mainClass+" "),F._removeClassFromMFP(V),F.fixedContentPos){var W={marginRight:""};F.isIE7?E("body, html").css("overflow",""):W.overflow="",E("html").css(W)}H.off("keyup"+T+" focusin"+T),F.ev.off(T),F.wrap.attr("class","mfp-wrap").removeAttr("style"),F.bgOverlay.attr("class","mfp-bg"),F.container.attr("class","mfp-container"),!F.st.showCloseBtn||F.st.closeBtnInside&&F.currTemplate[F.currItem.type]!==!0||F.currTemplate.closeBtn&&F.currTemplate.closeBtn.detach(),F._lastFocusedEl&&E(F._lastFocusedEl).focus(),F.currItem=null,F.content=null,F.currTemplate=null,F.prevHeight=0,m(N)},updateSize:function(V){if(F.isIOS){var W=document.documentElement.clientWidth/window.innerWidth,X=window.innerHeight*W;F.wrap.css("height",X),F.wH=X}else{F.wH=V||j.height()}F.fixedContentPos||F.wrap.css("height",F.wH),m("Resize")},updateItemHTML:function(){var X=F.items[F.index];F.contentContainer.detach(),F.content&&F.content.detach(),X.parsed||(X=F.parseEl(F.index));var Y=X.type;if(m("BeforeChange",[F.currItem?F.currItem.type:"",Y]),F.currItem=X,!F.currTemplate[Y]){var V=F.st[Y]?F.st[Y].markup:!1;m("FirstMarkupParse",V),F.currTemplate[Y]=V?E(V):!0}I&&I!==X.type&&F.container.removeClass("mfp-"+I+"-holder");var W=F["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](X,F.currTemplate[Y]);F.appendContent(W,Y),X.preloaded=!0,m(R,X),I=X.type,F.container.prepend(F.contentContainer),m("AfterChange")},appendContent:function(V,W){F.content=V,V?F.st.showCloseBtn&&F.st.closeBtnInside&&F.currTemplate[W]===!0?F.content.find(".mfp-close").length||F.content.append(n()):F.content=V:F.content="",m(O),F.container.addClass("mfp-"+W+"-holder"),F.contentContainer.append(F.content)},parseEl:function(X){var Y,Z=F.items[X];if(Z.tagName?Z={el:E(Z)}:(Y=Z.type,Z={data:Z,src:Z.src}),Z.el){for(var V=F.types,W=0;W<V.length;W++){if(Z.el.hasClass("mfp-"+V[W])){Y=V[W];break}}Z.src=Z.el.attr("data-mfp-src"),Z.src||(Z.src=Z.el.attr("href"))}return Z.type=Y||F.st.type||"inline",Z.index=X,Z.parsed=!0,F.items[X]=Z,m("ElementParse",Z),F.items[X]},addGroup:function(V,W){var X=function(Z){Z.mfpEl=this,F._openClick(Z,V,W)};W||(W={});var Y="click.magnificPopup";W.mainEl=V,W.items?(W.isObj=!0,V.off(Y).on(Y,X)):(W.isObj=!1,W.delegate?V.off(Y).on(Y,W.delegate,X):(W.items=V,V.off(Y).on(Y,X)))},_openClick:function(X,Y,Z){var V=void 0!==Z.midClick?Z.midClick:E.magnificPopup.defaults.midClick;if(V||2!==X.which&&!X.ctrlKey&&!X.metaKey){var W=void 0!==Z.disableOn?Z.disableOn:E.magnificPopup.defaults.disableOn;if(W){if(E.isFunction(W)){if(!W.call(F)){return !0}}else{if(j.width()<W){return !0}}}X.type&&(X.preventDefault(),F.isOpen&&X.stopPropagation()),Z.el=E(X.mfpEl),Z.delegate&&(Z.items=Y.find(Z.delegate)),F.open(Z)}},updateStatus:function(V,W){if(F.preloader){G!==V&&F.container.removeClass("mfp-s-"+G),W||"loading"!==V||(W=F.st.tLoading);var X={status:V,text:W};m("UpdateStatus",X),V=X.status,W=X.text,F.preloader.html(W),F.preloader.find("a").on("click",function(Y){Y.stopImmediatePropagation()}),F.container.addClass("mfp-s-"+V),G=V}},_checkIfClose:function(X){if(!E(X).hasClass(e)){var V=F.st.closeOnContentClick,W=F.st.closeOnBgClick;if(V&&W){return !0}if(!F.content||E(X).hasClass("mfp-close")||F.preloader&&X===F.preloader[0]){return !0}if(X===F.content[0]||E.contains(F.content[0],X)){if(V){return !0}}else{if(W&&E.contains(document,X)){return !0}}return !1}},_addClassToMFP:function(V){F.bgOverlay.addClass(V),F.wrap.addClass(V)},_removeClassFromMFP:function(V){this.bgOverlay.removeClass(V),F.wrap.removeClass(V)},_hasScrollBar:function(V){return(F.isIE7?H.height():document.body.scrollHeight)>(V||j.height())},_setFocus:function(){(F.st.focus?F.content.find(F.st.focus).eq(0):F.wrap).focus()},_onFocusIn:function(V){return V.target===F.wrap[0]||E.contains(F.wrap[0],V.target)?void 0:(F._setFocus(),!1)},_parseMarkup:function(V,W,X){var Y;X.data&&(W=E.extend(X.data,W)),m(P,[V,W,X]),E.each(W,function(Z,aa){if(void 0===aa||aa===!1){return !0}if(Y=Z.split("_"),Y.length>1){var ab=V.find(T+"-"+Y[0]);if(ab.length>0){var ac=Y[1];"replaceWith"===ac?ab[0]!==aa[0]&&ab.replaceWith(aa):"img"===ac?ab.is("img")?ab.attr("src",aa):ab.replaceWith('<img src="'+aa+'" class="'+ab.attr("class")+'" />'):ab.attr(Y[1],aa)}}else{V.find(T+"-"+Z).html(aa)}})},_getScrollbarSize:function(){if(void 0===F.scrollbarSize){var V=document.createElement("div");V.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(V),F.scrollbarSize=V.offsetWidth-V.clientWidth,document.body.removeChild(V)}return F.scrollbarSize}},E.magnificPopup={instance:null,proto:g.prototype,modules:[],open:function(V,W){return o(),V=V?E.extend(!0,{},V):{},V.isObj=!0,V.index=W||0,this.instance.open(V)},close:function(){return E.magnificPopup.instance&&E.magnificPopup.instance.close()},registerModule:function(V,W){W.options&&(E.magnificPopup.defaults[V]=W.options),E.extend(this.proto,W.proto),this.modules.push(V)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},E.fn.magnificPopup=function(X){o();var Y=E(this);if("string"==typeof X){if("open"===X){var Z,V=i?Y.data("magnificPopup"):Y[0].magnificPopup,W=parseInt(arguments[1],10)||0;V.items?Z=V.items[W]:(Z=Y,V.delegate&&(Z=Z.find(V.delegate)),Z=Z.eq(W)),F._openClick({mfpEl:Z},Y,V)}else{F.isOpen&&F[X].apply(F,Array.prototype.slice.call(arguments,1))}}else{X=E.extend(!0,{},X),i?Y.data("magnificPopup",X):Y[0].magnificPopup=X,F.addGroup(Y,X)}return Y};var q,r,s,t="inline",u=function(){s&&(r.after(s.addClass(q)).detach(),s=null)};E.magnificPopup.registerModule(t,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){F.types.push(t),k(L+"."+t,function(){u()})},getInline:function(X,Y){if(u(),X.src){var Z=F.st.inline,V=E(X.src);if(V.length){var W=V[0].parentNode;W&&W.tagName&&(r||(q=Z.hiddenClass,r=l(q),q="mfp-"+q),s=V.after(r).detach().removeClass(q)),F.updateStatus("ready")}else{F.updateStatus("error",Z.tNotFound),V=E("<div>")}return X.inlineElement=V,V}return F.updateStatus("ready"),F._parseMarkup(Y,{},X),Y}}});var v,w="ajax",x=function(){v&&E(document.body).removeClass(v)},y=function(){x(),F.req&&F.req.abort()};E.magnificPopup.registerModule(w,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){F.types.push(w),v=F.st.ajax.cursor,k(L+"."+w,y),k("BeforeChange."+w,y)},getAjax:function(V){v&&E(document.body).addClass(v),F.updateStatus("loading");var W=E.extend({url:V.src,success:function(X,Y,Z){var aa={data:X,xhr:Z};m("ParseAjax",aa),F.appendContent(E(aa.data),w),V.finished=!0,x(),F._setFocus(),setTimeout(function(){F.wrap.addClass(U)},16),F.updateStatus("ready"),m("AjaxContentAdded")},error:function(){x(),V.finished=V.loadError=!0,F.updateStatus("error",F.st.ajax.tError.replace("%url%",V.src))}},F.st.ajax.settings);return F.req=E.ajax(W),""}}});var z,A=function(V){if(V.data&&void 0!==V.data.title){return V.data.title}var W=F.st.image.titleSrc;if(W){if(E.isFunction(W)){return W.call(F,V)}if(V.el){return V.el.attr(W)||""}}return""};E.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var V=F.st.image,W=".image";F.types.push("image"),k(Q+W,function(){"image"===F.currItem.type&&V.cursor&&E(document.body).addClass(V.cursor)}),k(L+W,function(){V.cursor&&E(document.body).removeClass(V.cursor),j.off("resize"+T)}),k("Resize"+W,F.resizeImage),F.isLowIE&&k("AfterChange",F.resizeImage)},resizeImage:function(){var V=F.currItem;if(V&&V.img&&F.st.image.verticalFit){var W=0;F.isLowIE&&(W=parseInt(V.img.css("padding-top"),10)+parseInt(V.img.css("padding-bottom"),10)),V.img.css("max-height",F.wH-W)}},_onImageHasSize:function(V){V.img&&(V.hasSize=!0,z&&clearInterval(z),V.isCheckingImgSize=!1,m("ImageHasSize",V),V.imgHidden&&(F.content&&F.content.removeClass("mfp-loading"),V.imgHidden=!1))},findImageSize:function(V){var W=0,X=V.img[0],Y=function(Z){z&&clearInterval(z),z=setInterval(function(){return X.naturalWidth>0?void F._onImageHasSize(V):(W>200&&clearInterval(z),W++,void (3===W?Y(10):40===W?Y(50):100===W&&Y(500)))},Z)};Y(1)},getImage:function(aa,ab){var ac=0,W=function(){aa&&(aa.img[0].complete?(aa.img.off(".mfploader"),aa===F.currItem&&(F._onImageHasSize(aa),F.updateStatus("ready")),aa.hasSize=!0,aa.loaded=!0,m("ImageLoadComplete")):(ac++,200>ac?setTimeout(W,100):Y()))},Y=function(){aa&&(aa.img.off(".mfploader"),aa===F.currItem&&(F._onImageHasSize(aa),F.updateStatus("error",Z.tError.replace("%url%",aa.src))),aa.hasSize=!0,aa.loaded=!0,aa.loadError=!0)},Z=F.st.image,V=ab.find(".mfp-img");if(V.length){var X=document.createElement("img");X.className="mfp-img",aa.el&&aa.el.find("img").length&&(X.alt=aa.el.find("img").attr("alt")),aa.img=E(X).on("load.mfploader",W).on("error.mfploader",Y),X.src=aa.src,V.is("img")&&(aa.img=aa.img.clone()),X=aa.img[0],X.naturalWidth>0?aa.hasSize=!0:X.width||(aa.hasSize=!1)}return F._parseMarkup(ab,{title:A(aa),img_replaceWith:aa.img},aa),F.resizeImage(),aa.hasSize?(z&&clearInterval(z),aa.loadError?(ab.addClass("mfp-loading"),F.updateStatus("error",Z.tError.replace("%url%",aa.src))):(ab.removeClass("mfp-loading"),F.updateStatus("ready")),ab):(F.updateStatus("loading"),aa.loading=!0,aa.hasSize||(aa.imgHidden=!0,ab.addClass("mfp-loading"),F.findImageSize(aa)),ab)}}});var B,C=function(){return void 0===B&&(B=void 0!==document.createElement("p").style.MozTransform),B};E.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(V){return V.is("img")?V:V.find("img")}},proto:{initZoom:function(){var W,aa=F.st.zoom,ab=".zoom";if(aa.enabled&&F.supportsTransition){var ac,V,X=aa.duration,Y=function(af){var ah=af.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ag="all "+aa.duration/1000+"s "+aa.easing,ad={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";return ad["-webkit-"+ae]=ad["-moz-"+ae]=ad["-o-"+ae]=ad[ae]=ag,ah.css(ad),ah},Z=function(){F.content.css("visibility","visible")};k("BuildControls"+ab,function(){if(F._allowZoom()){if(clearTimeout(ac),F.content.css("visibility","hidden"),W=F._getItemToZoom(),!W){return void Z()}V=Y(W),V.css(F._getOffset()),F.wrap.append(V),ac=setTimeout(function(){V.css(F._getOffset(!0)),ac=setTimeout(function(){Z(),setTimeout(function(){V.remove(),W=V=null,m("ZoomAnimationEnded")},16)},X)},16)}}),k(M+ab,function(){if(F._allowZoom()){if(clearTimeout(ac),F.st.removalDelay=X,!W){if(W=F._getItemToZoom(),!W){return}V=Y(W)}V.css(F._getOffset(!0)),F.wrap.append(V),F.content.css("visibility","hidden"),setTimeout(function(){V.css(F._getOffset())},16)}}),k(L+ab,function(){F._allowZoom()&&(Z(),V&&V.remove(),W=null)})}},_allowZoom:function(){return"image"===F.currItem.type},_getItemToZoom:function(){return F.currItem.hasSize?F.currItem.img:!1},_getOffset:function(X){var Y;Y=X?F.currItem.img:F.st.zoom.opener(F.currItem.el||F.currItem);var Z=Y.offset(),aa=parseInt(Y.css("padding-top"),10),V=parseInt(Y.css("padding-bottom"),10);Z.top-=E(window).scrollTop()-aa;var W={width:Y.width(),height:(i?Y.innerHeight():Y[0].offsetHeight)-V-aa};return C()?W["-moz-transform"]=W.transform="translate("+Z.left+"px,"+Z.top+"px)":(W.left=Z.left,W.top=Z.top),W}}});var D="iframe",a="//about:blank",b=function(V){if(F.currTemplate[D]){var W=F.currTemplate[D].find("iframe");W.length&&(V||(W[0].src=a),F.isIE8&&W.css("display",V?"block":"none"))}};E.magnificPopup.registerModule(D,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){F.types.push(D),k("BeforeChange",function(W,X,V){X!==V&&(X===D?b():V===D&&b(!0))}),k(L+"."+D,function(){b()})},getIframe:function(X,Y){var Z=X.src,V=F.st.iframe;E.each(V.patterns,function(){return Z.indexOf(this.index)>-1?(this.id&&(Z="string"==typeof this.id?Z.substr(Z.lastIndexOf(this.id)+this.id.length,Z.length):this.id.call(this,Z)),Z=this.src.replace("%id%",Z),!1):void 0});var W={};return V.srcAction&&(W[V.srcAction]=Z),F._parseMarkup(Y,W,X),F.updateStatus("ready"),Y}}});var d=function(V){var W=F.items.length;return V>W-1?V-W:0>V?W+V:V},f=function(W,X,V){return W.replace(/%curr%/gi,X+1).replace(/%total%/gi,V)};E.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var X=F.st.gallery,V=".mfp-gallery",W=Boolean(E.fn.mfpFastClick);return F.direction=!0,X&&X.enabled?(J+=" mfp-gallery",k(Q+V,function(){X.navigateByImgClick&&F.wrap.on("click"+V,".mfp-img",function(){return F.items.length>1?(F.next(),!1):void 0}),H.on("keydown"+V,function(Y){37===Y.keyCode?F.prev():39===Y.keyCode&&F.next()})}),k("UpdateStatus"+V,function(Z,Y){Y.text&&(Y.text=f(Y.text,F.currItem.index,F.items.length))}),k(P+V,function(ac,Y,Z,aa){var ab=F.items.length;Z.counter=ab>1?f(X.tCounter,aa.index,ab):""}),k("BuildControls"+V,function(){if(F.items.length>1&&X.arrows&&!F.arrowLeft){var Y=X.arrowMarkup,Z=F.arrowLeft=E(Y.replace(/%title%/gi,X.tPrev).replace(/%dir%/gi,"left")).addClass(e),aa=F.arrowRight=E(Y.replace(/%title%/gi,X.tNext).replace(/%dir%/gi,"right")).addClass(e),ab=W?"mfpFastClick":"click";Z[ab](function(){F.prev()}),aa[ab](function(){F.next()}),F.isIE7&&(l("b",Z[0],!1,!0),l("a",Z[0],!1,!0),l("b",aa[0],!1,!0),l("a",aa[0],!1,!0)),F.container.append(Z.add(aa))}}),k(R+V,function(){F._preloadTimeout&&clearTimeout(F._preloadTimeout),F._preloadTimeout=setTimeout(function(){F.preloadNearbyImages(),F._preloadTimeout=null},16)}),void k(L+V,function(){H.off(V),F.wrap.off("click"+V),F.arrowLeft&&W&&F.arrowLeft.add(F.arrowRight).destroyMfpFastClick(),F.arrowRight=F.arrowLeft=null})):!1},next:function(){F.direction=!0,F.index=d(F.index+1),F.updateItemHTML()},prev:function(){F.direction=!1,F.index=d(F.index-1),F.updateItemHTML()},goTo:function(V){F.direction=V>=F.index,F.index=V,F.updateItemHTML()},preloadNearbyImages:function(){var V,W=F.st.gallery.preload,X=Math.min(W[0],F.items.length),Y=Math.min(W[1],F.items.length);for(V=1;V<=(F.direction?Y:X);V++){F._preloadItem(F.index+V)}for(V=1;V<=(F.direction?X:Y);V++){F._preloadItem(F.index-V)}},_preloadItem:function(V){if(V=d(V),!F.items[V].preloaded){var W=F.items[V];W.parsed||(W=F.parseEl(V)),m("LazyLoad",W),"image"===W.type&&(W.img=E('<img class="mfp-img" />').on("load.mfploader",function(){W.hasSize=!0}).on("error.mfploader",function(){W.hasSize=!0,W.loadError=!0,m("LazyLoadError",W)}).attr("src",W.src)),W.preloaded=!0}}}});var h="retina";E.magnificPopup.registerModule(h,{options:{replaceSrc:function(V){return V.src.replace(/\.\w+$/,function(W){return"@2x"+W})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var V=F.st.retina,W=V.ratio;W=isNaN(W)?W():W,W>1&&(k("ImageHasSize."+h,function(X,Y){Y.img.css({"max-width":Y.img[0].naturalWidth/W,width:"100%"})}),k("ElementParse."+h,function(X,Y){Y.src=V.replaceSrc(Y,W)}))}}}}),function(){var V=1000,W="ontouchstart" in window,X=function(){j.off("touchmove"+Z+" touchend"+Z)},Y="mfpFastClick",Z="."+Y;E.fn.mfpFastClick=function(aa){return E(this).each(function(){var ad,af=E(this);if(W){var ah,ac,ae,ag,ai,ab;af.on("touchstart"+Z,function(aj){ag=!1,ab=1,ai=aj.originalEvent?aj.originalEvent.touches[0]:aj.touches[0],ac=ai.clientX,ae=ai.clientY,j.on("touchmove"+Z,function(ak){ai=ak.originalEvent?ak.originalEvent.touches:ak.touches,ab=ai.length,ai=ai[0],(Math.abs(ai.clientX-ac)>10||Math.abs(ai.clientY-ae)>10)&&(ag=!0,X())}).on("touchend"+Z,function(ak){X(),ag||ab>1||(ad=!0,ak.preventDefault(),clearTimeout(ah),ah=setTimeout(function(){ad=!1},V),aa())})})}af.on("click"+Z,function(){ad||aa()})})},E.fn.destroyMfpFastClick=function(){E(this).off("touchstart"+Z+" click"+Z),W&&j.off("touchmove"+Z+" touchend"+Z)}}(),o()});