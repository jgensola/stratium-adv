/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(){function k(){}function e(b,c){for(var a=b.length;a--;){if(b[a].listener===c){return a}}return -1}function i(a){return function(){return this[a].apply(this,arguments)}}var h=k.prototype,l=this,j=l.EventEmitter;h.getListeners=function(b){var c,a,d=this._getEvents();if("object"==typeof b){c={};for(a in d){d.hasOwnProperty(a)&&b.test(a)&&(c[a]=d[a])}}else{c=d[b]||(d[b]=[])}return c},h.flattenListeners=function(b){var c,a=[];for(c=0;b.length>c;c+=1){a.push(b[c].listener)}return a},h.getListenersAsObject=function(b){var c,a=this.getListeners(b);return a instanceof Array&&(c={},c[b]=a),c||a},h.addListener=function(c,a){var f,d=this.getListenersAsObject(c),b="object"==typeof a;for(f in d){d.hasOwnProperty(f)&&-1===e(d[f],a)&&d[f].push(b?a:{listener:a,once:!1})}return this},h.on=i("addListener"),h.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},h.once=i("addOnceListener"),h.defineEvent=function(a){return this.getListeners(a),this},h.defineEvents=function(a){for(var b=0;a.length>b;b+=1){this.defineEvent(a[b])}return this},h.removeListener=function(c,a){var f,d,b=this.getListenersAsObject(c);for(d in b){b.hasOwnProperty(d)&&(f=e(b[d],a),-1!==f&&b[d].splice(f,1))}return this},h.off=i("removeListener"),h.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},h.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},h.manipulateListeners=function(a,d,g){var f,b,n=a?this.removeListener:this.addListener,c=a?this.removeListeners:this.addListeners;if("object"!=typeof d||d instanceof RegExp){for(f=g.length;f--;){n.call(this,d,g[f])}}else{for(f in d){d.hasOwnProperty(f)&&(b=d[f])&&("function"==typeof b?n.call(this,f,b):c.call(this,f,b))}}return this},h.removeEvent=function(b){var c,a=typeof b,d=this._getEvents();if("string"===a){delete d[b]}else{if("object"===a){for(c in d){d.hasOwnProperty(c)&&b.test(c)&&delete d[c]}}else{delete this._events}}return this},h.removeAllListeners=i("removeEvent"),h.emitEvent=function(a,d){var g,f,b,n,c=this.getListenersAsObject(a);for(b in c){if(c.hasOwnProperty(b)){for(f=c[b].length;f--;){g=c[b][f],g.once===!0&&this.removeListener(a,g.listener),n=g.listener.apply(this,d||[]),n===this._getOnceReturnValue()&&this.removeListener(a,g.listener)}}}return this},h.trigger=i("emitEvent"),h.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},h.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},h._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},h._getEvents=function(){return this._events||(this._events={})},k.noConflict=function(){return l.EventEmitter=j,k},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return k}):"object"==typeof module&&module.exports?module.exports=k:this.EventEmitter=k}).call(this),function(k){function e(b){var a=k.event;return a.target=a.target||a.srcElement||b,a}var i=document.documentElement,h=function(){};i.addEventListener?h=function(b,c,a){b.addEventListener(c,a,!1)}:i.attachEvent&&(h=function(b,a,c){b[a+c]=c.handleEvent?function(){var d=e(b);c.handleEvent.call(c,d)}:function(){var d=e(b);c.call(b,d)},b.attachEvent("on"+a,b[a+c])});var l=function(){};i.removeEventListener?l=function(b,c,a){b.removeEventListener(c,a,!1)}:i.detachEvent&&(l=function(b,c,a){b.detachEvent("on"+c,b[c+a]);try{delete b[c+a]}catch(d){b[c+a]=void 0}});var j={bind:h,unbind:l};"function"==typeof define&&define.amd?define("eventie/eventie",j):k.eventie=j}(this),function(c,d){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(a,b){return d(c,a,b)}):"object"==typeof exports?module.exports=d(c,require("wolfy87-eventemitter"),require("eventie")):c.imagesLoaded=d(c,c.EventEmitter,c.eventie)}(window,function(d,e,n){function i(j,b){for(var g in b){j[g]=b[g]}return j}function t(b){return"[object Array]"===a.call(b)}function o(j){var k=[];if(t(j)){k=j}else{if("number"==typeof j.length){for(var g=0,b=j.length;b>g;g++){k.push(j[g])}}else{k.push(j)}}return k}function c(j,b,g){if(!(this instanceof c)){return new c(j,b)}"string"==typeof j&&(j=document.querySelectorAll(j)),this.elements=o(j),this.options=i({},this.options),"function"==typeof b?g=b:i(this.options,b),g&&this.on("always",g),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var k=this;setTimeout(function(){k.check()})}function f(b){this.img=b}function v(b){this.src=b,s[b]=this}var u=d.jQuery,r=d.console,h=r!==void 0,a=Object.prototype.toString;c.prototype=new e,c.prototype.options={},c.prototype.getImages=function(){this.images=[];for(var g=0,q=this.elements.length;q>g;g++){var l=this.elements[g];"IMG"===l.nodeName&&this.addImage(l);var b=l.nodeType;if(b&&(1===b||9===b||11===b)){for(var k=l.querySelectorAll("img"),p=0,m=k.length;m>p;p++){var j=k[p];this.addImage(j)}}}},c.prototype.addImage=function(g){var b=new f(g);this.images.push(b)},c.prototype.check=function(){function k(q,p){return m.options.debug&&h&&r.log("confirm",q,p),m.progress(q),j++,j===b&&m.complete(),!0}var m=this,j=0,b=this.images.length;if(this.hasAnyBroken=!1,!b){return this.complete(),void 0}for(var l=0;b>l;l++){var g=this.images[l];g.on("confirm",k),g.check()}},c.prototype.progress=function(g){this.hasAnyBroken=this.hasAnyBroken||!g.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,g),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,g)})},c.prototype.complete=function(){var g=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(g,b),b.emit("always",b),b.jqDeferred){var j=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[j](b)}})},u&&(u.fn.imagesLoaded=function(j,b){var g=new c(this,j,b);return g.jqDeferred.promise(u(this))}),f.prototype=new e,f.prototype.check=function(){var g=s[this.img.src]||new v(this.img.src);if(g.isConfirmed){return this.confirm(g.isLoaded,"cached was confirmed"),void 0}if(this.img.complete&&void 0!==this.img.naturalWidth){return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0}var b=this;g.on("confirm",function(k,j){return b.confirm(k.isLoaded,j),!0}),g.check()},f.prototype.confirm=function(g,b){this.isLoaded=g,this.emit("confirm",this,b)};var s={};return v.prototype=new e,v.prototype.check=function(){if(!this.isChecked){var b=new Image;n.bind(b,"load",this),n.bind(b,"error",this),b.src=this.src,this.isChecked=!0}},v.prototype.handleEvent=function(g){var b="on"+g.type;this[b]&&this[b](g)},v.prototype.onload=function(b){this.confirm(!0,"onload"),this.unbindProxyEvents(b)},v.prototype.onerror=function(b){this.confirm(!1,"onerror"),this.unbindProxyEvents(b)},v.prototype.confirm=function(g,b){this.isConfirmed=!0,this.isLoaded=g,this.emit("confirm",this,b)},v.prototype.unbindProxyEvents=function(b){n.unbind(b.target,"load",this),n.unbind(b.target,"error",this)},c});