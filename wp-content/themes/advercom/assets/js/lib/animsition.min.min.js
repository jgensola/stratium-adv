/*!
 * animsition v4.0.2
 * A simple and easy jQuery plugin for CSS animated page transitions.
 * http://blivesta.github.io/animsition
 * License : MIT
 * Author : blivesta (http://blivesta.com/)
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(function(d){var f="animsition",e={init:function(c){c=d.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5000,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(g){window.location.href=g}},c),e.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var a=e.supportCheck.call(this,c);if(!a&&c.browser.length>0&&(!a||!this.length)){return"console" in window||(window.console={},window.console.log=function(g){return g}),this.length||console.log("Animsition: Element does not exist on page."),a||console.log("Animsition: Does not support this browser."),e.destroy.call(this)}var b=e.optionCheck.call(this,c);return b&&d("."+c.overlayClass).length<=0&&e.addOverlay.call(this,c),c.loading&&d("."+c.loadingClass).length<=0&&e.addLoading.call(this,c),this.each(function(){var g=this,l=d(this),o=d(window),n=d(document),p=l.data(f);p||(c=d.extend({},c),l.data(f,{options:c}),c.timeout&&e.addTimer.call(g),c.onLoadEvent&&o.on("load."+f,function(){e.settings.timer&&clearTimeout(e.settings.timer),e["in"].call(g)}),o.on("pageshow."+f,function(h){h.originalEvent.persisted&&e["in"].call(g)}),o.on("unload."+f,function(){}),n.on("click."+f,c.linkElement,function(i){i.preventDefault();var h=d(this),j=h.attr("href");2===i.which||i.metaKey||i.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&i.ctrlKey?window.open(j,"_blank"):e.out.call(g,h,j)}))})},addOverlay:function(a){d(a.overlayParentElement).prepend('<div class="'+a.overlayClass+'"></div>')},addLoading:function(a){d(a.loadingParentElement).append('<div class="'+a.loadingClass+'">'+a.loadingInner+"</div>")},removeLoading:function(){var b=d(this),c=b.data(f).options,a=d(c.loadingParentElement).children("."+c.loadingClass);a.fadeOut().remove()},addTimer:function(){var c=this,a=d(this),b=a.data(f).options;e.settings.timer=setTimeout(function(){e["in"].call(c),d(window).off("load."+f)},b.timeoutCountdown)},supportCheck:function(a){var l=d(this),m=a.browser,b=m.length,c=!1;0===b&&(c=!0);for(var i=0;b>i;i++){if("string"==typeof l.css(m[i])){c=!0;break}}return c},optionCheck:function(a){var c,b=d(this);return c=a.overlay||b.data(e.settings.data.overlay)?!0:!1},animationCheck:function(i,l,q){var a=d(this),c=a.data(f).options,b=typeof i,o=!l&&"number"===b,r=l&&"string"===b&&i.length>0;return o||r?i=i:l&&q?i=c.inClass:!l&&q?i=c.inDuration:l&&!q?i=c.outClass:l||q||(i=c.outDuration),i},"in":function(){var c=this,s=d(this),q=s.data(f).options,a=s.data(e.settings.data.inDuration),t=s.data(e.settings.data.inClass),r=e.animationCheck.call(c,a,!1,!0),o=e.animationCheck.call(c,t,!0,!0),b=e.optionCheck.call(c,q),l=s.data(f).outClass;q.loading&&e.removeLoading.call(c),l&&s.removeClass(l),b?e.inOverlay.call(c,o,r):e.inDefault.call(c,o,r)},inDefault:function(a,c){var b=d(this);b.css({"animation-duration":c+"ms"}).addClass(a).trigger(e.settings.events.inStart).animateCallback(function(){b.removeClass(a).css({opacity:1}).trigger(e.settings.events.inEnd)})},inOverlay:function(i,a){var b=d(this),c=b.data(f).options;b.css({opacity:1}).trigger(e.settings.events.inStart),d(c.overlayParentElement).children("."+c.overlayClass).css({"animation-duration":a+"ms"}).addClass(i).animateCallback(function(){b.trigger(e.settings.events.inEnd)})},out:function(s,o){var D=this,b=d(this),r=b.data(f).options,l=s.data(e.settings.data.outClass),v=b.data(e.settings.data.outClass),g=s.data(e.settings.data.outDuration),u=b.data(e.settings.data.outDuration),m=l?l:v,a=g?g:u,E=e.animationCheck.call(D,m,!0,!1),h=e.animationCheck.call(D,a,!1,!1),c=e.optionCheck.call(D,r);b.data(f).outClass=E,c?e.outOverlay.call(D,E,h,o):e.outDefault.call(D,E,h,o)},outDefault:function(k,a,b){var j=d(this),c=j.data(f).options;j.css({"animation-duration":a+1+"ms"}).addClass(k).trigger(e.settings.events.outStart).animateCallback(function(){j.trigger(e.settings.events.outEnd),c.transition(b)})},outOverlay:function(p,r,b){var l=this,c=d(this),q=c.data(f).options,a=c.data(e.settings.data.inClass),o=e.animationCheck.call(l,a,!0,!0);d(q.overlayParentElement).children("."+q.overlayClass).css({"animation-duration":r+1+"ms"}).removeClass(o).addClass(p).trigger(e.settings.events.outStart).animateCallback(function(){c.trigger(e.settings.events.outEnd),q.transition(b)})},destroy:function(){return this.each(function(){var a=d(this);d(window).off("."+f),a.css({opacity:1}).removeData(f)})}};d.fn.animateCallback=function(a){var b="animationend webkitAnimationEnd";return this.each(function(){var c=d(this);c.on(b,function(){return c.off(b),a.call(this)})})},d.fn.animsition=function(a){return e[a]?e[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void d.error("Method "+a+" does not exist on jQuery."+f):e.init.apply(this,arguments)}});