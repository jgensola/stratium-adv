/*!
 * parallax.js v1.5.0 (http://pixelcog.github.io/parallax.js/)
 * @copyright 2016 PixelCog, Inc.
 * @license MIT (https://github.com/pixelcog/parallax.js/blob/master/LICENSE)
 */
;!function(b,a,f,d){function g(k,o){var l=this;"object"==typeof o&&(delete o.refresh,delete o.render,b.extend(this,o)),this.$element=b(k),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var m=(this.position+"").toLowerCase().match(/\S+/g)||[];if(m.length<1&&m.push("center"),1==m.length&&m.push(m[0]),"top"!=m[0]&&"bottom"!=m[0]&&"left"!=m[1]&&"right"!=m[1]||(m=[m[1],m[0]]),this.positionX!==d&&(m[0]=this.positionX.toLowerCase()),this.positionY!==d&&(m[1]=this.positionY.toLowerCase()),l.positionX=m[0],l.positionY=m[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/)){return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this}if(navigator.userAgent.match(/(Android)/)){return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this}this.$mirror=b("<div />").prependTo(this.mirrorContainer);var j=this.$element.find(">.parallax-slider"),p=!1;0==j.length?this.$slider=b("<img />").prependTo(this.$mirror):(this.$slider=j.prependTo(this.$mirror),p=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){l.naturalHeight&&l.naturalWidth||(l.naturalHeight=this.naturalHeight||this.height||1,l.naturalWidth=this.naturalWidth||this.width||1),l.aspectRatio=l.naturalWidth/l.naturalHeight,g.isSetup||g.setup(),g.sliders.push(l),g.isFresh=!1,g.requestRender()}),p||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||j.length>0)&&this.$slider.trigger("load")}!function(){for(var h=0,j=["ms","moz","webkit","o"],i=0;i<j.length&&!a.requestAnimationFrame;++i){a.requestAnimationFrame=a[j[i]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[j[i]+"CancelAnimationFrame"]||a[j[i]+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(m){var l=(new Date).getTime(),n=Math.max(0,16-(l-h)),k=a.setTimeout(function(){m(l+n)},n);return h=l+n,k}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(e){clearTimeout(e)})}(),b.extend(g.prototype,{speed:0.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,mirrorContainer:"body",refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var l,k=g.winHeight,p=g.docHeight,n=Math.min(this.boxOffsetTop,p-k),m=Math.max(this.boxOffsetTop+this.boxHeight-k,0),o=this.boxHeight+(n-m)*(1-this.speed)|0,j=(this.boxOffsetTop-n)*(1-this.speed)|0;o*this.aspectRatio>=this.boxWidth?(this.imageWidth=o*this.aspectRatio|0,this.imageHeight=o,this.offsetBaseTop=j,l=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-l:isNaN(this.positionX)?this.offsetLeft=-l/2|0:this.offsetLeft=Math.max(this.positionX,-l)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,l=this.imageHeight-o,"top"==this.positionY?this.offsetBaseTop=j:"bottom"==this.positionY?this.offsetBaseTop=j-l:isNaN(this.positionY)?this.offsetBaseTop=j-l/2|0:this.offsetBaseTop=j+Math.max(this.positionY,-l))},render:function(){var j=g.scrollTop,h=g.scrollLeft,l=this.overScrollFix?g.overScroll:0,k=j+g.winHeight;this.boxOffsetBottom>j&&this.boxOffsetTop<=k?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-j,this.mirrorLeft=this.boxOffsetLeft-h,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d("+this.mirrorLeft+"px, "+(this.mirrorTop-l)+"px, 0px)",visibility:this.visibility,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d("+this.offsetLeft+"px, "+this.offsetTop+"px, 0px)",position:"absolute",height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),b.extend(g,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){function k(){if(o==a.pageYOffset){return a.requestAnimationFrame(k),!1}o=a.pageYOffset,j.render(),a.requestAnimationFrame(k)}if(!this.isReady){var j=this,m=b(f),i=b(a),q=function(){g.winHeight=i.height(),g.winWidth=i.width(),g.docHeight=m.height(),g.docWidth=m.width()},e=function(){var l=i.scrollTop(),h=g.docHeight-g.winHeight,n=g.docWidth-g.winWidth;g.scrollTop=Math.max(0,Math.min(h,l)),g.scrollLeft=Math.max(0,Math.min(n,i.scrollLeft())),g.overScroll=Math.max(l-h,Math.min(l,0))};i.on("resize.px.parallax load.px.parallax",function(){q(),j.refresh(),g.isFresh=!1,g.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){e(),g.requestRender()}),q(),e(),this.isReady=!0;var o=-1;k()}},configure:function(e){"object"==typeof e&&(delete e.refresh,delete e.render,b.extend(this.prototype,e))},refresh:function(){b.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),b.each(this.sliders,function(){this.render()})},requestRender:function(){var e=this;e.render(),e.isBusy=!1},destroy:function(k){var j,i=b(k).data("px.parallax");for(i.$mirror.remove(),j=0;j<this.sliders.length;j+=1){this.sliders[j]==i&&this.sliders.splice(j,1)}b(k).data("px.parallax",!1),0===this.sliders.length&&(b(a).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,g.isSetup=!1)}});var c=b.fn.parallax;b.fn.parallax=function(e){return this.each(function(){var i=b(this),j="object"==typeof e&&e;this==a||this==f||i.is("body")?g.configure(j):i.data("px.parallax")?"object"==typeof e&&b.extend(i.data("px.parallax"),j):(j=b.extend({},i.data(),j),i.data("px.parallax",new g(this,j))),"string"==typeof e&&("destroy"==e?g.destroy(this):g[e]())})},b.fn.parallax.Constructor=g,b.fn.parallax.noConflict=function(){return b.fn.parallax=c,this},b(function(){b('[data-parallax="scroll"]').parallax()})}(jQuery,window,document);